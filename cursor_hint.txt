这是一个典型的边池(side pot)问题。当一个玩家ALL-IN且另一个玩家CALL时，如果两个玩家筹码数量不同，应该创建主池和边池，赢家只能赢取他们参与的那部分筹码。
具体问题在于：
100BB的玩家只能下注自己拥有的全部筹码(100BB)
300BB的玩家虽然ALL-IN了300BB，但只有100BB可以与对手"配对"
应形成两个池：
主池(200BB): 双方各100BB参与
边池(200BB): 只有300BB玩家参与的剩余200BB
当100BB的玩家赢了，他只应该赢得主池的200BB，而不是全部400BB。
问题出在finish_hand()方法中的筹码分配逻辑，没有正确处理ALL-IN情况下的边池计算。需要实现边池计算逻辑，特别是处理不同玩家下注不同金额的情况。
主要的修复方向：
添加边池(side pot)数据结构
在玩家ALL-IN时创建边池
在结算时为每个池分别计算赢家
确保赢家只能赢取他们有资格获得的筹码部分
这是德州扑克的基本规则之一，实现它需要彻底重构奖池管理机制。