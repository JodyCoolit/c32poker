INFO:     Will watch for changes in these directories: ['D:\\c32poker']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1204] using StatReload
INFO:     Started server process [10580]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: fAqxz1LuAbFABZabfJRLbw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55422) - "WebSocket /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 7AAEKdIiGcYTCzf+qpSslRok0Io=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:07 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"9b8eaf6...dmin","chips":333.0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116708.4237962}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: geVfDOI1OXHjx9g3Z0Esww==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55424) - "WebSocket /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: Dup0lT9PQ2ECIqEDL2SfI9lgr0I=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:08 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"9b8eaf6...dmin","chips":333.0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116708.7080219}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116708.7080219}}' [87 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...63f-a225-899e362e56c9"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[]}' [33 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...63f-a225-899e362e56c9"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746116717.4917834}}' [514 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746116717.4917834}}' [514 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746116717.5272179}}' [87 bytes]
INFO:     connection closed
Initializing RoomManager
Creating Room: id=26e5fc4d-ab1f-439c-995f-bdfff55bc2af, name=cvxvv
Room created successfully: id=26e5fc4d-ab1f-439c-995f-bdfff55bc2af
Creating Room: id=9b8eaf6f-3d5f-463f-a225-899e362e56c9, name=fds
Room created successfully: id=9b8eaf6f-3d5f-463f-a225-899e362e56c9
Creating Player: name=hq, chips=111.0
Player hq created successfully with no assigned seat
Creating Player: name=admin, chips=333.0
Player admin created successfully with no assigned seat
Room state loaded successfully. Rooms: 2
Room manager cleanup thread started
Main room_manager instance id: 1613625593104
Initial rooms: {'26e5fc4d-ab1f-439c-995f-bdfff55bc2af': <src.models.room.Room object at 0x00000177B394AF00>, '9b8eaf6f-3d5f-463f-a225-899e362e56c9': <src.models.room.Room object at 0x00000177B394B050>}
Application starting...
Rooms at startup: {'26e5fc4d-ab1f-439c-995f-bdfff55bc2af': <src.models.room.Room object at 0x00000177B394AF00>, '9b8eaf6f-3d5f-463f-a225-899e362e56c9': <src.models.room.Room object at 0x00000177B394B050>}
Timer update task started
[DEBUG] Timer update task started at 2025-05-02 00:25:07.503730
Client hq connected
Added hq to room 9b8eaf6f-3d5f-463f-a225-899e362e56c9
Client admin connected
Added admin to room 9b8eaf6f-3d5f-463f-a225-899e362e56c9
处理玩家离开请求: 玩家=hq
房主离开，设置新房主: admin
玩家 hq 已离开房间，带走 111.0 筹码
[BROADCAST][room_update] Room 9b8eaf6f-3d5f-463f-a225-899e362e56c9: Action=exit_game, Player=hq, Result=True
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room 9b8eaf6f-3d5f-463f-a225-899e362e56c9
INFO:     127.0.0.1:55444 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...63f-a225-899e362e56c9"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746116718.9162793}}' [491 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
处理玩家离开请求: 玩家=admin
玩家 admin 已离开房间，带走 333.0 筹码
[BROADCAST][room_update] Room 9b8eaf6f-3d5f-463f-a225-899e362e56c9: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room 9b8eaf6f-3d5f-463f-a225-899e362e56c9
INFO:     127.0.0.1:55457 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: KanfSfHVSDfOdvzGB5TCJQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55465) - "WebSocket /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 16:25:20 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: HoSOF1LdWFJLMU3kQ7rEPA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55472) - "WebSocket /ws/game/9b8eaf6f-3d5f-463f-a225-899e362e56c9?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 16:25:22 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room 9b8eaf6f-3d5f-463f-a225-899e362e56c9
User admin not in room 9b8eaf6f-3d5f-463f-a225-899e362e56c9

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='fgdd' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=fgdd, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 1613625593104
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=e4599892-5322-4a05-9ae8-5d6814362ff5, name=fgdd
Room created successfully: id=e4599892-5322-4a05-9ae8-5d6814362ff5
已创建房间 e4599892-5322-4a05-9ae8-5d6814362ff5，房主: hq，当前房间总数: 3
Room state saved successfully. Rooms: 3
房间创建成功, 房间ID: e4599892-5322-4a05-9ae8-5d6814362ff5
创建房间成功: {'id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:55444 - "POST /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='hq'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
尝试将用户 hq 添加到房间 e4599892-5322-4a05-9ae8-5d6814362ff5
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room e4599892-5322-4a05-9ae8-5d6814362ff5 with no seat assigned
成功: 用户 hq 已加入房间 e4599892-5322-4a05-9ae8-5d6814362ff5
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:55444 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='hq'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:55444 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='hq'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:55444 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: osP+/oGaHxyryPRC1HLmyg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55479) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: uNjaZe9EFPc/uc+lQjuPoJoNm7E=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:23 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...":1746116717.4917834}}}' [836 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...ame":"hq","chips":0}]}}' [273 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116723.7037256}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: vOw2pRDppkD4Pfx/xmavHQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55481) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: zNVW+dSPXmyzL5RmxectwSF5TWY=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:23 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...ame":"hq","chips":0}]}}' [273 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116723.7321265}}' [84 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...362ff5","seat_index":1}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...p":1746116724.2692416}}' [495 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":111,"seat_index":1}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746116725.1256447}}' [526 bytes]
Client hq reconnected
Sent reconnect state to hq
Added hq to room e4599892-5322-4a05-9ae8-5d6814362ff5
Client hq connected
处理入座请求: 玩家=hq, 座位=1
玩家 hq 已入座在座位 1，同时设置position=1
[BROADCAST][room_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Action=sit_down, Player=hq, Result=True
处理买入请求: 玩家=hq, 金额=111.0, 座位=1
玩家 hq 已买入 111.0，总买入: 111.0，总筹码: 111.0，座位: 1，position=1
[BROADCAST][room_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Action=buy_in, Player=hq, Result=True
INFO:     127.0.0.1:55462 - "GET /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='admin'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
尝试将用户 admin 添加到房间 e4599892-5322-4a05-9ae8-5d6814362ff5
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room e4599892-5322-4a05-9ae8-5d6814362ff5 with no seat assigned
成功: 用户 admin 已加入房间 e4599892-5322-4a05-9ae8-5d6814362ff5
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:55462 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='admin'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:55462 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='admin'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:55462 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: /3DieaR1tVzIpGHkHdvNpg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55487) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: mHt3NRnD/TW06DjIvZdqRcCu6gE=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:27 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...":1746116718.9162793}}}' [813 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...":"admin","chips":0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116728.6934872}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116728.6934872}}' [87 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: kVGygU0+Q7ZXjT9S9p07nQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55489) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 6aFSPrJvF8uwE7ygJk0ntlfj4fw=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:25:27 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...":"admin","chips":0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116728.7252727}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746116728.7252727}}' [87 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...362ff5","seat_index":7}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...p":1746116729.0897005}}' [545 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...p":1746116729.0897005}}' [545 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":333,"seat_index":7}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746116729.9805636}}' [576 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746116729.9805636}}' [576 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[]}' [33 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"start_game","ro...a05-9ae8-5d6814362ff5"}' [93 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...mp":1746116733.919488}}' [1568 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...mp":1746116733.919488}}' [1568 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1579 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1579 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"c","display":"8c"}]}}' [1491 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"8h"}]}}' [1493 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":2}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1687 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1687 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1507 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"8h"}]}}' [1548 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":2}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1739 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1739 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1555 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1557 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"raise","amount":2}' [50 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"raise",..."player_action_raise"}}' [1689 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"raise",..."player_action_raise"}}' [1689 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1548 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1550 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1678 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1678 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1547 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1549 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 88 9d 9d d9 [binary, 4 bytes]
DEBUG:    < PONG 88 9d 9d d9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 ac 52 94 [binary, 4 bytes]
DEBUG:    < PONG c6 ac 52 94 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"raise","amount":6}' [50 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"raise",..."player_action_raise"}}' [1694 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"raise",..."player_action_raise"}}' [1694 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1556 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1558 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1687 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1687 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1556 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1558 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f1 7b f3 76 [binary, 4 bytes]
DEBUG:    < PONG f1 7b f3 76 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac 16 cf 33 [binary, 4 bytes]
DEBUG:    < PONG ac 16 cf 33 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"fold"}' [38 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"fold","...:"player_action_fold"}}' [1868 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"fold","...:"player_action_fold"}}' [1868 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1717 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1719 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 8.0"}}' [1840 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 8.0"}}' [1840 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"h","display":"9h"}]}}' [1718 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989..."c","display":"10c"}]}}' [1720 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116753.7376518}' [46 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1576 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1576 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"s","display":"7s"}]}}' [1486 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"d","display":"6d"}]}}' [1486 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116758.757622}' [45 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 16 b0 ce 82 [binary, 4 bytes]
DEBUG:    < PONG 16 b0 ce 82 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 54 ab 79 b7 [binary, 4 bytes]
DEBUG:    < PONG 54 ab 79 b7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING da cf 53 65 [binary, 4 bytes]
DEBUG:    < PONG da cf 53 65 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f6 4e 9f 4a [binary, 4 bytes]
DEBUG:    < PONG f6 4e 9f 4a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 79 bd a0 e2 [binary, 4 bytes]
DEBUG:    < PONG 79 bd a0 e2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '&\u057a{' [text, 4 bytes]
DEBUG:    < PONG '&\u057a{' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116783.7370317}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 36 c7 15 08 [binary, 4 bytes]
DEBUG:    < PONG 36 c7 15 08 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f4 bd 5d be [binary, 4 bytes]
DEBUG:    < PONG f4 bd 5d be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116788.75375}' [44 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 59 b2 73 26 [binary, 4 bytes]
DEBUG:    < PONG 59 b2 73 26 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a5 e5 52 02 [binary, 4 bytes]
DEBUG:    < PONG a5 e5 52 02 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9f 3f 16 af [binary, 4 bytes]
DEBUG:    < PONG 9f 3f 16 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7e 19 ba 0b [binary, 4 bytes]
DEBUG:    < PONG 7e 19 ba 0b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116813.7376232}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116819.3988597}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9f 75 3a 17 [binary, 4 bytes]
DEBUG:    < PONG 9f 75 3a 17 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9c 64 fd cb [binary, 4 bytes]
DEBUG:    < PONG 9c 64 fd cb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e0 ac fa 55 [binary, 4 bytes]
DEBUG:    < PONG e0 ac fa 55 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d5 af f3 fb [binary, 4 bytes]
DEBUG:    < PONG d5 af f3 fb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb 25 b2 76 [binary, 4 bytes]
DEBUG:    < PONG cb 25 b2 76 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 22 0d c5 4f [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116843.738356}' [45 bytes]
DEBUG:    < PONG 22 0d c5 4f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3b 3f 52 8f [binary, 4 bytes]
DEBUG:    < PONG 3b 3f 52 8f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 09 1e aa af [binary, 4 bytes]
DEBUG:    < PONG 09 1e aa af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116849.4023848}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 33 89 b1 00 [binary, 4 bytes]
DEBUG:    < PONG 33 89 b1 00 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 80 b7 2e [binary, 4 bytes]
DEBUG:    < PONG d1 80 b7 2e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ba 9c dc a1 [binary, 4 bytes]
DEBUG:    < PONG ba 9c dc a1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ab 08 6a 0f [binary, 4 bytes]
DEBUG:    < PONG ab 08 6a 0f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116873.7373037}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116879.39505}' [44 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 bb 79 08 [binary, 4 bytes]
DEBUG:    < PONG 84 bb 79 08 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 b4 33 93 [binary, 4 bytes]
DEBUG:    < PONG 92 b4 33 93 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'M\u01ba\x10' [text, 4 bytes]
DEBUG:    < PONG 'M\u01ba\x10' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 9c 34 f5 [binary, 4 bytes]
DEBUG:    < PONG 07 9c 34 f5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e3 e6 dc c8 [binary, 4 bytes]
DEBUG:    < PONG e3 e6 dc c8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 23 63 cf 34 [binary, 4 bytes]
DEBUG:    < PONG 23 63 cf 34 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116904.3961756}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 97 4a 7b 68 [binary, 4 bytes]
DEBUG:    < PONG 97 4a 7b 68 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING bb 92 01 8e [binary, 4 bytes]
DEBUG:    < PONG bb 92 01 8e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116909.4010222}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5e 0c 63 bc [binary, 4 bytes]
DEBUG:    < PONG 5e 0c 63 bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 55 f5 34 3b [binary, 4 bytes]
DEBUG:    < PONG 55 f5 34 3b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a 28 d0 ee [binary, 4 bytes]
DEBUG:    < PONG 9a 28 d0 ee [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d0 fa 29 2d [binary, 4 bytes]
DEBUG:    < PONG d0 fa 29 2d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116934.4029808}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1c 4e fb ef [binary, 4 bytes]
DEBUG:    < PONG 1c 4e fb ef [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u01f6\x0fL' [text, 4 bytes]
DEBUG:    < PONG '\u01f6\x0fL' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 9f ee 68 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 87 99 e7 [binary, 4 bytes]
DEBUG:    < PONG 75 9f ee 68 [binary, 4 bytes]
DEBUG:    < PONG 04 87 99 e7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 2c 58 b9 [binary, 4 bytes]
DEBUG:    < PONG b1 2c 58 b9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5e aa 0c ec [binary, 4 bytes]
DEBUG:    < PONG 5e aa 0c ec [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116964.4057953}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746116964.4177094}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'w\x18Y\x19' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 08 54 4c [binary, 4 bytes]
DEBUG:    < PONG 'w\x18Y\x19' [text, 4 bytes]
DEBUG:    < PONG b4 08 54 4c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9d 0f a5 c7 [binary, 4 bytes]
DEBUG:    < PONG 9d 0f a5 c7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 84 d5 63 [binary, 4 bytes]
DEBUG:    < PONG f2 84 d5 63 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d8 ce c9 5f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 6b 65 7e [binary, 4 bytes]
DEBUG:    < PONG d8 ce c9 5f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 83 6b 65 7e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 02 96 d5 50 [binary, 4 bytes]
DEBUG:    < PONG 02 96 d5 50 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\r\u025bp' [text, 4 bytes]
DEBUG:    < PONG '\r\u025bp' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 1b 8f 26 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 01 c3 50 46 [binary, 4 bytes]
DEBUG:    < PONG 84 1b 8f 26 [binary, 4 bytes]
DEBUG:    < PONG 01 c3 50 46 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 74 84 a0 bf [binary, 4 bytes]
DEBUG:    < PONG 74 84 a0 bf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 59 41 b2 [binary, 4 bytes]
DEBUG:    < PONG 04 59 41 b2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117024.408049}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117024.4174447}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 5e 07 27 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ab b5 05 68 [binary, 4 bytes]
DEBUG:    < PONG c0 5e 07 27 [binary, 4 bytes]
DEBUG:    < PONG ab b5 05 68 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 4f 3a 20 [binary, 4 bytes]
DEBUG:    < PONG f2 4f 3a 20 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 91 04 58 [binary, 4 bytes]
DEBUG:    < PONG 03 91 04 58 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Client admin reconnected
Sent reconnect state to admin
Added admin to room e4599892-5322-4a05-9ae8-5d6814362ff5
Client admin connected
处理入座请求: 玩家=admin, 座位=7
玩家 admin 已入座在座位 7，同时设置position=7
[BROADCAST][room_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Action=sit_down, Player=admin, Result=True
处理买入请求: 玩家=admin, 金额=333.0, 座位=7
玩家 admin 已买入 333.0，总买入: 333.0，总筹码: 333.0，座位: 7，position=7
[BROADCAST][room_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Action=buy_in, Player=admin, Result=True
Starting game in room e4599892-5322-4a05-9ae8-5d6814362ff5
检查玩家 hq: 位置=1, 筹码=111.0
检查玩家 admin: 位置=7, 筹码=333.0
Building player info, players: ['hq', 'admin']
Adding player hq with 111.0 chips at position 1
Adding player admin with 333.0 chips at position 7
Player info list: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Creating Game instance with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Initializing Game with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Game object initialized, ready to start round
Dealing cards to players
Dealt cards to player position 1: 9h, 8c, Jd
Dealt cards to player position 7: 8h, 10c, Kh

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 332.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 110.0

=== CHIPS AFTER BLINDS ===
hq has 110.0 chips, bet: 1.0, position: BIG BLIND
admin has 332.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
计时器初始化: 设置时间为 1746116733.9135733
回合成功开始。当前玩家: admin
Game started successfully. End time: 2025-05-02 01:25:33.919488
[BROADCAST][room_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Action=start_game, Player=hq, Result=True
[BROADCAST][game_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Sending update. Reason: First update for this room
玩家 hq 弃掉了第 2 张牌: {'rank': '8', 'suit': 'c', 'display': '8c'}
[BROADCAST][game_update]: Action=discard, Player=hq, GameState={'room_id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3597.116055, 'game': {'handid': '2130ab9f-0576-4036-9c82-49a5bddea513', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}}, {'name': 'admin', 'chips': 332.5, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': False}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 7, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 332.5, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 333.0, 'hand': [{'rank': 'K', 'suit': 'h', 'display': 'Kh'}, {'rank': '10', 'suit': 'c', 'display': '10c'}, {'rank': '8', 'suit': 'h', 'display': '8h'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 27.110139846801758, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T01:25:33.919488'}
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 2 张牌: {'rank': '8', 'suit': 'h', 'display': '8h'}
[BROADCAST][game_update]: Action=discard, Player=admin, GameState={'room_id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3594.427051, 'game': {'handid': '2130ab9f-0576-4036-9c82-49a5bddea513', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}}, {'name': 'admin', 'chips': 332.5, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 7, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 332.5, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}, 'initial_chips': 333.0, 'hand': [{'rank': 'K', 'suit': 'h', 'display': 'Kh'}, {'rank': '10', 'suit': 'c', 'display': '10c'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 24.42181706428528, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T01:25:33.919488'}
处理玩家 7 动作: raise, 金额: 2
玩家 admin 加注到 2.0
轮到玩家 hq (位置 1)
[BROADCAST][game_update]: Action=raise, Player=admin, GameState={'room_id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3593.239342, 'game': {'handid': '2130ab9f-0576-4036-9c82-49a5bddea513', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': True, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}}, {'name': 'admin', 'chips': 331.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 2.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}}], 'pot': 0, 'total_pot': 3.0, 'current_bet': 2.0, 'community_cards': [], 'dealer_idx': 7, 'current_player_idx': 1, 'current_player': {'name': 'hq', 'chips': 110.0, 'position': 1, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}, 'initial_chips': 111.0, 'hand': [{'rank': 'J', 'suit': 'd', 'display': 'Jd'}, {'rank': '9', 'suit': 'h', 'display': '9h'}], 'bet_amount': 1.0}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'hq', 'turn_remaining_time': 23.233426809310913, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T01:25:33.919488'}
[BROADCAST][game_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Sending update. Reason: Current player changed: 7 -> 1
处理玩家 1 动作: raise, 金额: 6
玩家 hq 加注到 6.0
轮到玩家 admin (位置 7)
[BROADCAST][game_update]: Action=raise, Player=hq, GameState={'room_id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3588.782636, 'game': {'handid': '2130ab9f-0576-4036-9c82-49a5bddea513', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 105.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 6.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}}, {'name': 'admin', 'chips': 331.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 2.0, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}}], 'pot': 0, 'total_pot': 8.0, 'current_bet': 6.0, 'community_cards': [], 'dealer_idx': 7, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 331.0, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}, 'initial_chips': 333.0, 'hand': [{'rank': 'K', 'suit': 'h', 'display': 'Kh'}, {'rank': '10', 'suit': 'c', 'display': '10c'}], 'bet_amount': 2.0}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 18.776721000671387, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T01:25:33.919488'}
[BROADCAST][game_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Sending update. Reason: Current player changed: 1 -> 7
处理玩家 7 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 8.0
Player hq wins 8.0 chips (all others folded)
已保存游戏历史记录，总共有 1 局游戏历史
Next hand will start in 5 seconds...
[BROADCAST][game_update]: Action=fold, Player=admin, GameState={'room_id': 'e4599892-5322-4a05-9ae8-5d6814362ff5', 'name': 'fgdd', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3581.646904, 'game': {'handid': '2130ab9f-0576-4036-9c82-49a5bddea513', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 113.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 6.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'c', 'display': '8c'}, 'hand': [{'rank': 'J', 'suit': 'd', 'display': 'Jd'}, {'rank': '9', 'suit': 'h', 'display': '9h'}], 'is_winner': True}, {'name': 'admin', 'chips': 331.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': False, 'bet_amount': 2.0, 'folded': True, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}}], 'pot': 8.0, 'total_pot': 16.0, 'current_bet': 6.0, 'community_cards': [], 'dealer_idx': 7, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 331.0, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '8', 'suit': 'h', 'display': '8h'}, 'initial_chips': 333.0, 'hand': [{'rank': 'K', 'suit': 'h', 'display': 'Kh'}, {'rank': '10', 'suit': 'c', 'display': '10c'}], 'bet_amount': 2.0}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 11.64098834991455, 'turn_time_limit': 30, 'hand_complete': True, 'hand_winners': [1], 'showdown': False}, 'is_game_started': True, 'game_end_time': '2025-05-02T01:25:33.919488'}
[BROADCAST][game_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Sending update. Reason: Pot changed: 0 -> 8.0
Starting next hand with handid: b04c6eb3-b018-4542-abd0-c17b3ce05e05
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 7s, 10s, 8h
Dealt cards to player position 7: 10c, 6d, 6c

=== POSTING BLINDS ===
Before blinds: hq has 113.0 chips
Before blinds: admin has 331.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 112.5
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 330.0

=== CHIPS AFTER BLINDS ===
hq has 112.5 chips, bet: 0.5, position: BUTTON
admin has 330.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room e4599892-5322-4a05-9ae8-5d6814362ff5: Sending update. Reason: Current player changed: 7 -> 1
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Room state saved successfully. Rooms: 3
处理玩家 1 动作: discard, 金额: 0
玩家 hq 必须先弃掉一张牌
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
INFO:     127.0.0.1:56061 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:56061 - "GET /api/users/admin HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING a5 88 97 7b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fe 28 85 48 [binary, 4 bytes]
DEBUG:    < PONG a5 88 97 7b [binary, 4 bytes]
DEBUG:    < PONG fe 28 85 48 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 57 f0 5f c0 [binary, 4 bytes]
DEBUG:    < PONG 57 f0 5f c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 96 60 0c ea [binary, 4 bytes]
DEBUG:    < PONG 96 60 0c ea [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6c 56 a0 c0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ad e0 87 a7 [binary, 4 bytes]
DEBUG:    < PONG 6c 56 a0 c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG ad e0 87 a7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 14 b5 38 be [binary, 4 bytes]
DEBUG:    < PONG 14 b5 38 be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 00 dc ab [binary, 4 bytes]
DEBUG:    < PONG 90 00 dc ab [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117084.4111176}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117084.418487}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 99 0f 93 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 31 16 eb 8d [binary, 4 bytes]
DEBUG:    < PONG c0 99 0f 93 [binary, 4 bytes]
DEBUG:    < PONG 31 16 eb 8d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '2\u063f}' [text, 4 bytes]
DEBUG:    < PONG '2\u063f}' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u05bfL\x13' [text, 4 bytes]
DEBUG:    < PONG '\u05bfL\x13' [text, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
INFO:     127.0.0.1:56207 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:56207 - "GET /api/users/hq HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 32 94 89 cb [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d7 cb ab 11 [binary, 4 bytes]
DEBUG:    < PONG 32 94 89 cb [binary, 4 bytes]
DEBUG:    < PONG d7 cb ab 11 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 0d fd 8e [binary, 4 bytes]
DEBUG:    < PONG 84 0d fd 8e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 41 7d fd a8 [binary, 4 bytes]
DEBUG:    < PONG 41 7d fd a8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8f 71 8b 14 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 00 b0 76 f0 [binary, 4 bytes]
DEBUG:    < PONG 8f 71 8b 14 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 00 b0 76 f0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d2 96 a9 c3 [binary, 4 bytes]
DEBUG:    < PONG d2 96 a9 c3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e6 e8 ae 02 [binary, 4 bytes]
DEBUG:    < PONG e6 e8 ae 02 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117144.395347}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117144.407045}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 e5 24 10 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 e9 54 5c [binary, 4 bytes]
DEBUG:    < PONG b3 e5 24 10 [binary, 4 bytes]
DEBUG:    < PONG 83 e9 54 5c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 91 f5 a4 a5 [binary, 4 bytes]
DEBUG:    < PONG 91 f5 a4 a5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e5 10 de f1 [binary, 4 bytes]
DEBUG:    < PONG e5 10 de f1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 a6 11 1b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 fa 5d 3c [binary, 4 bytes]
DEBUG:    < PONG 94 a6 11 1b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 28 fa 5d 3c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b9 7b 68 dc [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 18 27 1e [binary, 4 bytes]
DEBUG:    < PONG b9 7b 68 dc [binary, 4 bytes]
DEBUG:    < PONG f8 18 27 1e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 46 66 97 3f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0c 5a 87 b8 [binary, 4 bytes]
DEBUG:    < PONG 46 66 97 3f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 0c 5a 87 b8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 51 ad f0 61 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 ec 46 2c [binary, 4 bytes]
DEBUG:    < PONG 51 ad f0 61 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 65 ec 46 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117204.3990183}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117204.4127553}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 10 55 bd 48 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 5f 80 27 [binary, 4 bytes]
DEBUG:    < PONG 10 55 bd 48 [binary, 4 bytes]
DEBUG:    < PONG 92 5f 80 27 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d3 aa ad e5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2a 02 98 72 [binary, 4 bytes]
DEBUG:    < PONG d3 aa ad e5 [binary, 4 bytes]
DEBUG:    < PONG 2a 02 98 72 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2d ff 4f 68 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 46 1f 17 9b [binary, 4 bytes]
DEBUG:    < PONG 2d ff 4f 68 [binary, 4 bytes]
DEBUG:    < PONG 46 1f 17 9b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 58 f1 e1 95 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 60 1d 83 0d [binary, 4 bytes]
DEBUG:    < PONG 58 f1 e1 95 [binary, 4 bytes]
DEBUG:    < PONG 60 1d 83 0d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'g@\x10-' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e4 43 f5 ad [binary, 4 bytes]
DEBUG:    < PONG 'g@\x10-' [text, 4 bytes]
DEBUG:    < PONG e4 43 f5 ad [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 9b 66 cb [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 53 f2 8a 68 [binary, 4 bytes]
DEBUG:    < PONG 53 f2 8a 68 [binary, 4 bytes]
DEBUG:    < PONG b7 9b 66 cb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117264.4269595}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117264.4269595}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 59 a5 59 4c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'U\u049dJ' [text, 4 bytes]
DEBUG:    < PONG 'U\u049dJ' [text, 4 bytes]
DEBUG:    < PONG 59 a5 59 4c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 7a 15 69 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1a 94 77 46 [binary, 4 bytes]
DEBUG:    < PONG 1a 94 77 46 [binary, 4 bytes]
DEBUG:    < PONG 90 7a 15 69 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac e6 27 6d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ca c3 7f 3b [binary, 4 bytes]
DEBUG:    < PONG ac e6 27 6d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG ca c3 7f 3b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117293.7325435}' [46 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fc 58 03 a7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 37 57 0c c9 [binary, 4 bytes]
DEBUG:    < PONG fc 58 03 a7 [binary, 4 bytes]
DEBUG:    < PONG 37 57 0c c9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c f1 b1 26 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac 71 e5 b7 [binary, 4 bytes]
DEBUG:    < PONG 7c f1 b1 26 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG ac 71 e5 b7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117323.7384644}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u03cc\x1a"' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 89 c7 a6 e6 [binary, 4 bytes]
DEBUG:    < PONG '\u03cc\x1a"' [text, 4 bytes]
DEBUG:    < PONG 89 c7 a6 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117324.4045784}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f1 59 38 2b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a0 8a 15 2e [binary, 4 bytes]
DEBUG:    < PONG f1 59 38 2b [binary, 4 bytes]
DEBUG:    < PONG a0 8a 15 2e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac 11 db 68 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 53 f8 a3 d5 [binary, 4 bytes]
DEBUG:    < PONG ac 11 db 68 [binary, 4 bytes]
DEBUG:    < PONG 53 f8 a3 d5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a7 70 e5 51 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4d e3 07 7d [binary, 4 bytes]
DEBUG:    < PONG a7 70 e5 51 [binary, 4 bytes]
DEBUG:    < PONG 4d e3 07 7d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117353.7371624}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fc 64 37 33 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 88 b5 6c 62 [binary, 4 bytes]
DEBUG:    < PONG fc 64 37 33 [binary, 4 bytes]
DEBUG:    < PONG 88 b5 6c 62 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b5 84 03 8b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 aa 23 b9 [binary, 4 bytes]
DEBUG:    < PONG b5 84 03 8b [binary, 4 bytes]
DEBUG:    < PONG 03 aa 23 b9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117383.7378857}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cf d2 ce 72 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 27 8e ad 55 [binary, 4 bytes]
DEBUG:    < PONG cf d2 ce 72 [binary, 4 bytes]
DEBUG:    < PONG 27 8e ad 55 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117384.403368}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 80 50 ab 80 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 46 f8 81 [binary, 4 bytes]
DEBUG:    < PONG 80 50 ab 80 [binary, 4 bytes]
DEBUG:    < PONG f8 46 f8 81 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117388.9657395}' [46 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x1f\rYP' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e3 e9 94 ba [binary, 4 bytes]
DEBUG:    < PONG '\x1f\rYP' [text, 4 bytes]
DEBUG:    < PONG e3 e9 94 ba [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 74 22 69 9b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 51 16 e8 0e [binary, 4 bytes]
DEBUG:    < PONG 74 22 69 9b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 51 16 e8 0e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117413.737379}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117418.7523699}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 64 37 d2 02 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x117],' [text, 4 bytes]
DEBUG:    < PONG '\x117],' [text, 4 bytes]
DEBUG:    < PONG 64 37 d2 02 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e5 90 84 90 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fd 35 96 0f [binary, 4 bytes]
DEBUG:    < PONG e5 90 84 90 [binary, 4 bytes]
DEBUG:    < PONG fd 35 96 0f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117443.7397177}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 18 8b 83 9d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x05\x04\x08.' [text, 4 bytes]
DEBUG:    < PONG 18 8b 83 9d [binary, 4 bytes]
DEBUG:    < PONG '\x05\x04\x08.' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117448.7552018}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 49 c3 0d 3d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1f 96 2b f9 [binary, 4 bytes]
DEBUG:    < PONG 49 c3 0d 3d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 1f 96 2b f9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 82 35 4a 3c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 7c 76 0b [binary, 4 bytes]
DEBUG:    < PONG 82 35 4a 3c [binary, 4 bytes]
DEBUG:    < PONG c0 7c 76 0b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 8d 48 ad [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0f 17 89 f4 [binary, 4 bytes]
DEBUG:    < PONG c5 8d 48 ad [binary, 4 bytes]
DEBUG:    < PONG 0f 17 89 f4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117473.738604}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117479.4006026}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a8 28 c5 d7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f4 a3 b3 01 [binary, 4 bytes]
DEBUG:    < PONG f4 a3 b3 01 [binary, 4 bytes]
DEBUG:    < PONG a8 28 c5 d7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7d ac a1 af [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING db 6a f3 5a [binary, 4 bytes]
DEBUG:    < PONG 7d ac a1 af [binary, 4 bytes]
DEBUG:    < PONG db 6a f3 5a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117503.7380567}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 58 ad 25 04 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa bb c0 ea [binary, 4 bytes]
DEBUG:    < PONG 58 ad 25 04 [binary, 4 bytes]
DEBUG:    < PONG aa bb c0 ea [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '&p\u064e' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 41 cb e9 ef [binary, 4 bytes]
DEBUG:    < PONG '&p\u064e' [text, 4 bytes]
DEBUG:    < PONG 41 cb e9 ef [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117509.3918405}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea c2 1f 49 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 64 93 69 4e [binary, 4 bytes]
DEBUG:    < PONG ea c2 1f 49 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 64 93 69 4e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ce 05 95 a3 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2f ba 83 c4 [binary, 4 bytes]
DEBUG:    < PONG ce 05 95 a3 [binary, 4 bytes]
DEBUG:    < PONG 2f ba 83 c4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117533.7374282}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa 85 4c 47 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e4 71 57 9c [binary, 4 bytes]
DEBUG:    < PONG aa 85 4c 47 [binary, 4 bytes]
DEBUG:    < PONG e4 71 57 9c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 e3 9a 7d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 86 ca 73 05 [binary, 4 bytes]
DEBUG:    < PONG 28 e3 9a 7d [binary, 4 bytes]
DEBUG:    < PONG 86 ca 73 05 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a c9 7e 77 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING db 6e 8f 80 [binary, 4 bytes]
DEBUG:    < PONG db 6e 8f 80 [binary, 4 bytes]
DEBUG:    < PONG 9a c9 7e 77 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117564.4000332}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117564.401042}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6e 0f f8 02 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 c3 1f 79 [binary, 4 bytes]
DEBUG:    < PONG 6e 0f f8 02 [binary, 4 bytes]
DEBUG:    < PONG 65 c3 1f 79 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9e 04 3b 7b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 26 8a 1c 5f [binary, 4 bytes]
DEBUG:    < PONG 9e 04 3b 7b [binary, 4 bytes]
DEBUG:    < PONG 26 8a 1c 5f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5e fc c1 3e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '@\u0725|' [text, 4 bytes]
DEBUG:    < PONG 5e fc c1 3e [binary, 4 bytes]
DEBUG:    < PONG '@\u0725|' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117594.4034584}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 19 6c 09 d9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb f1 71 2f [binary, 4 bytes]
DEBUG:    < PONG 19 6c 09 d9 [binary, 4 bytes]
DEBUG:    < PONG cb f1 71 2f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1a 82 39 ed [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d5 37 a3 b8 [binary, 4 bytes]
DEBUG:    < PONG d5 37 a3 b8 [binary, 4 bytes]
DEBUG:    < PONG 1a 82 39 ed [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f7 ed 98 f3 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '/\x18\u0291' [text, 4 bytes]
DEBUG:    < PONG f7 ed 98 f3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG '/\x18\u0291' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117624.3978326}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117624.4111283}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fe b9 60 7a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 82 e3 fa 8b [binary, 4 bytes]
DEBUG:    < PONG fe b9 60 7a [binary, 4 bytes]
DEBUG:    < PONG 82 e3 fa 8b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f5 81 f4 69 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f1 10 9c ad [binary, 4 bytes]
DEBUG:    < PONG f5 81 f4 69 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG f1 10 9c ad [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 a8 90 e7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0b e9 b3 7f [binary, 4 bytes]
DEBUG:    < PONG b3 a8 90 e7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 0b e9 b3 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING bb 00 27 1c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2d 7e f7 bd [binary, 4 bytes]
DEBUG:    < PONG bb 00 27 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 2d 7e f7 bd [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c2 35 52 62 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 f9 95 53 [binary, 4 bytes]
DEBUG:    < PONG c2 35 52 62 [binary, 4 bytes]
DEBUG:    < PONG 83 f9 95 53 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fa 66 cb d7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 63 0f b2 d9 [binary, 4 bytes]
DEBUG:    < PONG fa 66 cb d7 [binary, 4 bytes]
DEBUG:    < PONG 63 0f b2 d9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117684.4049056}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117684.4178793}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 42 f8 59 7f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cf 9a b6 74 [binary, 4 bytes]
DEBUG:    < PONG 42 f8 59 7f [binary, 4 bytes]
DEBUG:    < PONG cf 9a b6 74 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a7 fb 6c e6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 71 85 ec 0c [binary, 4 bytes]
DEBUG:    < PONG a7 fb 6c e6 [binary, 4 bytes]
DEBUG:    < PONG 71 85 ec 0c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c9 db d9 c0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b5 8f b7 0b [binary, 4 bytes]
DEBUG:    < PONG c9 db d9 c0 [binary, 4 bytes]
DEBUG:    < PONG b5 8f b7 0b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117717.0289621}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8b 49 63 7b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1a e8 66 23 [binary, 4 bytes]
DEBUG:    < PONG 8b 49 63 7b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 1a e8 66 23 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7b 95 3f 6c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ';fr?' [text, 4 bytes]
DEBUG:    < PONG ';fr?' [text, 4 bytes]
DEBUG:    < PONG 7b 95 3f 6c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117743.7379544}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'ua\x027' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8c b1 88 9e [binary, 4 bytes]
DEBUG:    < PONG 'ua\x027' [text, 4 bytes]
DEBUG:    < PONG 8c b1 88 9e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117744.3990843}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8d 83 df 21 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 28 81 07 [binary, 4 bytes]
DEBUG:    < PONG 8d 83 df 21 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG f8 28 81 07 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a 05 05 8d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u0698D9' [text, 4 bytes]
DEBUG:    < PONG '\u0698D9' [text, 4 bytes]
DEBUG:    < PONG 9a 05 05 8d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a 5c db 30 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ce 69 0b 55 [binary, 4 bytes]
DEBUG:    < PONG ce 69 0b 55 [binary, 4 bytes]
DEBUG:    < PONG 9a 5c db 30 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117773.7365937}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 71 89 90 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 35 db d8 da [binary, 4 bytes]
DEBUG:    < PONG b4 71 89 90 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 35 db d8 da [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'D\u035d\x13' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e0 29 2a df [binary, 4 bytes]
DEBUG:    < PONG 'D\u035d\x13' [text, 4 bytes]
DEBUG:    < PONG e0 29 2a df [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117803.7383935}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING dc 5f 8a 75 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 27 df d2 [binary, 4 bytes]
DEBUG:    < PONG dc 5f 8a 75 [binary, 4 bytes]
DEBUG:    < PONG c5 27 df d2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117804.412315}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 f3 27 f5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8b 62 50 5d [binary, 4 bytes]
DEBUG:    < PONG 95 f3 27 f5 [binary, 4 bytes]
DEBUG:    < PONG 8b 62 50 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '"l\n)' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 44 d8 4d bd [binary, 4 bytes]
DEBUG:    < PONG 44 d8 4d bd [binary, 4 bytes]
DEBUG:    < PONG '"l\n)' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 6c cd 5f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f9 92 67 b4 [binary, 4 bytes]
DEBUG:    < PONG 94 6c cd 5f [binary, 4 bytes]
DEBUG:    < PONG f9 92 67 b4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117833.7372408}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '/\x1c\x1e$' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3e e0 38 4d [binary, 4 bytes]
DEBUG:    < PONG '/\x1c\x1e$' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 3e e0 38 4d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d7 ae 7d ea [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 5e f9 fa [binary, 4 bytes]
DEBUG:    < PONG d7 ae 7d ea [binary, 4 bytes]
DEBUG:    < PONG 92 5e f9 fa [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117863.7375264}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d9 fc 87 e6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\n,K\x06' [text, 4 bytes]
DEBUG:    < PONG d9 fc 87 e6 [binary, 4 bytes]
DEBUG:    < PONG '\n,K\x06' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117864.4160092}' [46 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746117867.5700822}}' [87 bytes]
INFO:     connection closed
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
获取游戏历史记录，包含当前游戏和 1 局历史游戏
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room e4599892-5322-4a05-9ae8-5d6814362ff5
INFO:     127.0.0.1:57401 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='hq'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:57401 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: lK2gsoy5Kd9TjAyvcJ+M8w==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57409) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: ENUOu43H6kJnC0mgSf0JSJwwSAk=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:44:28 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...yer changed: 7 -> 1"}}}' [4618 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"s","display":"7s"}]}}' [1470 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746117868.2222323}}' [84 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746117868.2222323}}' [84 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...mp":1746117868.493512}}' [89 bytes]
INFO:     connection closed
Client hq reconnected
Sent reconnect state to hq
Added hq to room e4599892-5322-4a05-9ae8-5d6814362ff5
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room e4599892-5322-4a05-9ae8-5d6814362ff5
INFO:     127.0.0.1:57412 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='e4599892-5322-4a05-9ae8-5d6814362ff5' username='admin'
成功找到房间: e4599892-5322-4a05-9ae8-5d6814362ff5, 名称: fgdd
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:57412 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6e cb 88 bc [binary, 4 bytes]
DEBUG:    < PONG 6e cb 88 bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: qQS48waAw5MdqCzr5nUy8g==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57417) - "WebSocket /ws/game/e4599892-5322-4a05-9ae8-5d6814362ff5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: zt+xJa0qt466cK2g3HnRhfg+g7U=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 16:44:28 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...yer changed: 7 -> 1"}}}' [4618 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"e459989...:"d","display":"6d"}]}}' [1470 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746117869.1538405}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746117869.1538405}}' [87 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2d b1 7a 82 [binary, 4 bytes]
DEBUG:    < PONG 2d b1 7a 82 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1b 3d 8c d1 [binary, 4 bytes]
DEBUG:    < PONG 1b 3d 8c d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'g9JL' [text, 4 bytes]
DEBUG:    < PONG 'g9JL' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0e 99 7c a7 [binary, 4 bytes]
DEBUG:    < PONG 0e 99 7c a7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117898.2321262}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117899.404315}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 52 bc 74 3c [binary, 4 bytes]
DEBUG:    < PONG 52 bc 74 3c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...a05-9ae8-5d6814362ff5"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"2130...:0.5,"big_blind":1.0}]}' [1371 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 10 6e fc 60 [binary, 4 bytes]
DEBUG:    < PONG 10 6e fc 60 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 00 55 79 [binary, 4 bytes]
DEBUG:    < PONG 83 00 55 79 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c4 f9 63 7d [binary, 4 bytes]
DEBUG:    < PONG c4 f9 63 7d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 96 d5 6f d9 [binary, 4 bytes]
DEBUG:    < PONG 96 d5 6f d9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8f 90 05 bc [binary, 4 bytes]
DEBUG:    < PONG 8f 90 05 bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117928.2372754}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 88 77 e4 aa [binary, 4 bytes]
DEBUG:    < PONG 88 77 e4 aa [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d 6b c3 c5 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117929.1623912}' [46 bytes]
DEBUG:    < PONG 0d 6b c3 c5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fc 3f 16 a1 [binary, 4 bytes]
DEBUG:    < PONG fc 3f 16 a1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Client admin reconnected
Sent reconnect state to admin
Added admin to room e4599892-5322-4a05-9ae8-5d6814362ff5
获取游戏历史记录，包含当前游戏和 1 局历史游戏
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Room state saved successfully. Rooms: 3
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
INFO:     127.0.0.1:57560 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:57560 - "GET /api/users/admin HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d ed 9d 3e [binary, 4 bytes]
DEBUG:    < PONG 0d ed 9d 3e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e1 6b 73 cf [binary, 4 bytes]
DEBUG:    < PONG e1 6b 73 cf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 21 df 87 [binary, 4 bytes]
DEBUG:    < PONG 92 21 df 87 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117958.237883}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117959.1645093}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 51 c5 d0 ac [binary, 4 bytes]
DEBUG:    < PONG 51 c5 d0 ac [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'C%\u0530' [text, 4 bytes]
DEBUG:    < PONG 'C%\u0530' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'y\x07Jb' [text, 4 bytes]
DEBUG:    < PONG 'y\x07Jb' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d0 23 a3 39 [binary, 4 bytes]
DEBUG:    < PONG d0 23 a3 39 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 f1 3c 11 [binary, 4 bytes]
DEBUG:    < PONG b7 f1 3c 11 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 d2 3b db [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117988.2273371}' [46 bytes]
DEBUG:    < PONG f2 d2 3b db [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cd ff 09 79 [binary, 4 bytes]
DEBUG:    < PONG cd ff 09 79 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 93 78 78 be [binary, 4 bytes]
DEBUG:    < PONG 93 78 78 be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746117989.3895574}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d8 39 74 10 [binary, 4 bytes]
DEBUG:    < PONG d8 39 74 10 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1b 8f a9 74 [binary, 4 bytes]
DEBUG:    < PONG 1b 8f a9 74 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 3
Room state saved successfully. Rooms: 3
INFO:     127.0.0.1:57684 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:57684 - "GET /api/users/hq HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 97 88 d1 72 [binary, 4 bytes]
DEBUG:    < PONG 97 88 d1 72 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 cf b2 24 [binary, 4 bytes]
DEBUG:    < PONG c5 cf b2 24 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746118018.2362077}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746118019.163989}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3a f9 dc 1f [binary, 4 bytes]
DEBUG:    < PONG 3a f9 dc 1f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 29 37 2b [binary, 4 bytes]
DEBUG:    < PONG c6 29 37 2b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a8 3b c4 8a [binary, 4 bytes]
DEBUG:    < PONG a8 3b c4 8a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 77 16 e9 a4 [binary, 4 bytes]
DEBUG:    < PONG 77 16 e9 a4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
