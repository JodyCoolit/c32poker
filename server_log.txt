INFO:     Will watch for changes in these directories: ['D:\\c32poker']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [19080] using StatReload
INFO:     Started server process [24724]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
DEBUG:    = connection is CONNECTING
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: a7u82V3GNh15fk9S8VXK8Q==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: sEovhbj0CLwkw4Ha029vsw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54078) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
INFO:     ('127.0.0.1', 54077) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 2tLREtywnUPeWyYTRRD9r8pxyho=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:48:43 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: CcACDBpvk2rC1b+6SKtka8pYJ88=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:48:43 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"f2a0b3c...dmin","chips":333.0}]}}' [318 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125324.1053545}}' [84 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125324.1053545}}' [84 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"f2a0b3c...dmin","chips":333.0}]}}' [318 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125324.1053545}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125324.1053545}}' [87 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 0f 1c 5a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e0 68 53 b5 [binary, 4 bytes]
DEBUG:    < PONG c5 0f 1c 5a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG e0 68 53 b5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125354.12785}' [44 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125354.4026494}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 31 a7 95 45 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1e d9 fb 8a [binary, 4 bytes]
DEBUG:    < PONG 31 a7 95 45 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 1e d9 fb 8a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 36 a4 4d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 11 31 5c c1 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125384.1255043}' [46 bytes]
DEBUG:    < PONG 90 36 a4 4d [binary, 4 bytes]
DEBUG:    < PONG 11 31 5c c1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125384.4057338}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0e af 6e 63 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 dc 5c c6 [binary, 4 bytes]
DEBUG:    < PONG 0e af 6e 63 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG d4 dc 5c c6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125414.1252916}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125414.4153461}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'kOp?' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 98 2d 54 58 [binary, 4 bytes]
DEBUG:    < PONG 'kOp?' [text, 4 bytes]
DEBUG:    < PONG 98 2d 54 58 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 86 e2 1e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u0792}+' [text, 4 bytes]
DEBUG:    < PONG a9 86 e2 1e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG '\u0792}+' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125444.412273}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125444.42046}' [44 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...486-904f-cd4114813bf3"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125449.4816675}}' [516 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125449.4816675}}' [516 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746125449.4983008}}' [87 bytes]
INFO:     connection closed
Initializing RoomManager
Creating Room: id=f2a0b3c7-893f-4486-904f-cd4114813bf3, name=sad1
Room created successfully: id=f2a0b3c7-893f-4486-904f-cd4114813bf3
Creating Player: name=hq, chips=111.0
Player hq created successfully with no assigned seat
Creating Player: name=admin, chips=333.0
Player admin created successfully with no assigned seat
Room state loaded successfully. Rooms: 1
Room manager cleanup thread started
Main room_manager instance id: 2061958089568
Initial rooms: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000001E01647ACC0>}
Application starting...
Rooms at startup: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000001E01647ACC0>}
Timer update task started
[DEBUG] Timer update task started at 2025-05-02 02:48:43.866175
Client hq connected
Added hq to room f2a0b3c7-893f-4486-904f-cd4114813bf3
Client admin connected
Added admin to room f2a0b3c7-893f-4486-904f-cd4114813bf3
Room state saved successfully. Rooms: 1
Room state saved successfully. Rooms: 1
Room state saved successfully. Rooms: 1
Room state saved successfully. Rooms: 1
处理玩家离开请求: 玩家=hq
房主离开，设置新房主: admin
玩家 hq 已离开房间，带走 111.0 筹码
[BROADCAST][room_update] Room f2a0b3c7-893f-4486-904f-cd4114813bf3: Action=exit_game, Player=hq, Result=True
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room f2a0b3c7-893f-4486-904f-cd4114813bf3
INFO:     127.0.0.1:54333 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...486-904f-cd4114813bf3"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125452.0465186}}' [491 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: 8jqdH3sVaAGlz/5sNZOLEw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54342) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 18:50:52 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
处理玩家离开请求: 玩家=admin
玩家 admin 已离开房间，带走 333.0 筹码
[BROADCAST][room_update] Room f2a0b3c7-893f-4486-904f-cd4114813bf3: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room f2a0b3c7-893f-4486-904f-cd4114813bf3
User hq not in room f2a0b3c7-893f-4486-904f-cd4114813bf3
INFO:     127.0.0.1:54350 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:54350 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: 0h5VHD0JAM0CE7P8KLrHLg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54361) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 18:50:55 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User admin not in room f2a0b3c7-893f-4486-904f-cd4114813bf3
INFO:     127.0.0.1:54337 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: ZfKu05vmgrcAamDZG5N3AQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54381) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 18:50:59 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room f2a0b3c7-893f-4486-904f-cd4114813bf3
INFO:     127.0.0.1:54337 - "GET /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='csa' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=csa, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 2061958089568
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=81f24fe1-3147-42bb-bdbc-99354d200f9b, name=csa
Room created successfully: id=81f24fe1-3147-42bb-bdbc-99354d200f9b
已创建房间 81f24fe1-3147-42bb-bdbc-99354d200f9b，房主: hq，当前房间总数: 2
Room state saved successfully. Rooms: 2
房间创建成功, 房间ID: 81f24fe1-3147-42bb-bdbc-99354d200f9b
创建房间成功: {'id': '81f24fe1-3147-42bb-bdbc-99354d200f9b', 'name': 'csa', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:54337 - "POST /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='hq'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
尝试将用户 hq 添加到房间 81f24fe1-3147-42bb-bdbc-99354d200f9b
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room 81f24fe1-3147-42bb-bdbc-99354d200f9b with no seat assigned
成功: 用户 hq 已加入房间 81f24fe1-3147-42bb-bdbc-99354d200f9b
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:54337 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='hq'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:54337 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='hq'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:54337 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: +E5+AGSmi7PMIdpXpUBjcQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54390) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: z2jHit2YoCml7/JH+VUtAAMHVto=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:51:02 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...":1746125449.4816675}}}' [839 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125462.3284962}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: hSIS0qdDCk898q/EwxOMnQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54392) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: Z2CVKqt8Hrj4wYR5YdUIFomOXnc=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:51:02 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125462.3452961}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: itmiItjBGn0ne6hi1Fc7kw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54395) - "WebSocket /ws/game/f2a0b3c7-893f-4486-904f-cd4114813bf3?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 18:51:02 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...200f9b","seat_index":1}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746125462.998858}}' [493 bytes]
Client hq reconnected
Sent reconnect state to hq
Added hq to room 81f24fe1-3147-42bb-bdbc-99354d200f9b
Client hq connected
User admin not in room f2a0b3c7-893f-4486-904f-cd4114813bf3
处理入座请求: 玩家=hq, 座位=1
玩家 hq 已入座在座位 1，同时设置position=1
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=sit_down, Player=hq, Result=True
INFO:     127.0.0.1:54354 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":111,"seat_index":1}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...mp":1746125464.325426}}' [524 bytes]
处理买入请求: 玩家=hq, 金额=111.0, 座位=1
玩家 hq 已买入 111.0，总买入: 111.0，总筹码: 111.0，座位: 1，position=1
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=buy_in, Player=hq, Result=True

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='admin'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
尝试将用户 admin 添加到房间 81f24fe1-3147-42bb-bdbc-99354d200f9b
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room 81f24fe1-3147-42bb-bdbc-99354d200f9b with no seat assigned
成功: 用户 admin 已加入房间 81f24fe1-3147-42bb-bdbc-99354d200f9b
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:54354 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='admin'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:54354 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='81f24fe1-3147-42bb-bdbc-99354d200f9b' username='admin'
成功找到房间: 81f24fe1-3147-42bb-bdbc-99354d200f9b, 名称: csa
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:54354 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: fZmiCWTzrRGcP0NI/1M/xQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54399) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: UU6xu0imdnRtiuKu/iBZANTO2G8=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:51:06 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...":1746125452.0465186}}}' [814 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...":"admin","chips":0}]}}' [316 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125466.4403834}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746125466.4403834}}' [87 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: N05xZvybGb4LDiQySmOCTg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 54401) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 9q+RO+SarTpl5eE6bq0MbKKHmc8=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 18:51:06 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...":"admin","chips":0}]}}' [316 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746125466.457332}}' [86 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746125466.457332}}' [86 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...200f9b","seat_index":7}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746125466.863664}}' [543 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746125466.863664}}' [543 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":333,"seat_index":7}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746125467.7253506}}' [575 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746125467.7253506}}' [575 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"start_game","ro...2bb-bdbc-99354d200f9b"}' [93 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...p":1746125470.0667465}}' [1561 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...p":1746125470.0667465}}' [1561 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1570 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1570 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"6h"}]}}' [1481 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1483 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":2}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1673 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1673 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1492 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1533 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"call"}' [38 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"call","...:"player_action_call"}}' [1641 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"call","...:"player_action_call"}}' [1641 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1506 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1547 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1635 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1635 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1505 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1546 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 39 e0 2d 70 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 97 ee 25 49 [binary, 4 bytes]
DEBUG:    < PONG 39 e0 2d 70 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 97 ee 25 49 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f5 7a 92 1b [binary, 4 bytes]
DEBUG:    < PONG f5 7a 92 1b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 ac 4e be [binary, 4 bytes]
DEBUG:    < PONG f8 ac 4e be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125492.3527915}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125496.4887433}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 41 b5 e2 31 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b2 23 2b 1e [binary, 4 bytes]
DEBUG:    < PONG 41 b5 e2 31 [binary, 4 bytes]
DEBUG:    < PONG b2 23 2b 1e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ed: PRE_FLOP -> FLOP"}}' [1728 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ed: PRE_FLOP -> FLOP"}}' [1728 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1591 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1632 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b2 22 20 ec [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'S6cb' [text, 4 bytes]
DEBUG:    < PONG b2 22 20 ec [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'S6cb' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c1 b5 34 03 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f1 6a c1 85 [binary, 4 bytes]
DEBUG:    < PONG c1 b5 34 03 [binary, 4 bytes]
DEBUG:    < PONG f1 6a c1 85 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125522.3554764}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e1 c3 d3 ea [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c8 a3 9a 06 [binary, 4 bytes]
DEBUG:    < PONG e1 c3 d3 ea [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG c8 a3 9a 06 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125526.4908223}' [46 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"check"}' [39 bytes]
DEBUG:    > TEXT '{"type":"error","data":{"message":"\\u73a9\\u5b...p":1746125530.3820143}}' [129 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1707 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1707 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1577 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1618 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"check"}' [39 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"check",..."player_action_check"}}' [1768 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"check",..."player_action_check"}}' [1768 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1630 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1671 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...hanged: FLOP -> TURN"}}' [1762 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...hanged: FLOP -> TURN"}}' [1762 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1629 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1670 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 fb 34 fb [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9d 35 f6 21 [binary, 4 bytes]
DEBUG:    < PONG 83 fb 34 fb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 9d 35 f6 21 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 ef 6a 37 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 66 ca a4 [binary, 4 bytes]
DEBUG:    < PONG c5 66 ca a4 [binary, 4 bytes]
DEBUG:    < PONG 28 ef 6a 37 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125552.355041}' [45 bytes]
Client admin reconnected
Sent reconnect state to admin
Added admin to room 81f24fe1-3147-42bb-bdbc-99354d200f9b
Client admin connected
处理入座请求: 玩家=admin, 座位=7
玩家 admin 已入座在座位 7，同时设置position=7
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=sit_down, Player=admin, Result=True
处理买入请求: 玩家=admin, 金额=333.0, 座位=7
玩家 admin 已买入 333.0，总买入: 333.0，总筹码: 333.0，座位: 7，position=7
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=buy_in, Player=admin, Result=True
Starting game in room 81f24fe1-3147-42bb-bdbc-99354d200f9b
检查玩家 hq: 位置=1, 筹码=111.0
检查玩家 admin: 位置=7, 筹码=333.0
Building player info, players: ['hq', 'admin']
Adding player hq with 111.0 chips at position 1
Adding player admin with 333.0 chips at position 7
Player info list: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Creating Game instance with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Initializing Game with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 7, 'total_buy_in': 333.0}]
Game object initialized, ready to start round
Dealing cards to players
Dealt cards to player position 1: Ad, 6h, Kd
Dealt cards to player position 7: Ah, 10d, 4s

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
计时器初始化: 设置时间为 1746125470.0654626
回合成功开始。当前玩家: hq
Game started successfully. End time: 2025-05-02 03:51:10.066746
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=start_game, Player=hq, Result=True
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: First update for this room
Room state saved successfully. Rooms: 2
玩家 hq 弃掉了第 2 张牌: {'rank': '6', 'suit': 'h', 'display': '6h'}
[BROADCAST][game_update]: Action=discard, Player=hq, GameState={'room_id': '81f24fe1-3147-42bb-bdbc-99354d200f9b', 'name': 'csa', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3596.197785, 'game': {'handid': '53e28c33-b83d-4035-bf9b-bc4c73d91fe9', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.5, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}}, {'name': 'admin', 'chips': 332.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 333.0, 'has_discarded': False}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 1, 'current_player_idx': 1, 'current_player': {'name': 'hq', 'chips': 110.5, 'position': 1, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}, 'initial_chips': 111.0, 'hand': [{'rank': 'A', 'suit': 'd', 'display': 'Ad'}, {'rank': 'K', 'suit': 'd', 'display': 'Kd'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'hq', 'turn_remaining_time': 26.196500778198242, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T03:51:10.066746'}
处理玩家 1 动作: call, 金额: 0
玩家 hq 跟注 0.5
轮到玩家 admin (位置 7)
[BROADCAST][game_update]: Action=call, Player=hq, GameState={'room_id': '81f24fe1-3147-42bb-bdbc-99354d200f9b', 'name': 'csa', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3595.331319, 'game': {'handid': '53e28c33-b83d-4035-bf9b-bc4c73d91fe9', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}}, {'name': 'admin', 'chips': 332.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': False}], 'pot': 0, 'total_pot': 2.0, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 1, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 332.0, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 333.0, 'hand': [{'rank': 'A', 'suit': 'h', 'display': 'Ah'}, {'rank': '10', 'suit': 'd', 'display': '10d'}, {'rank': '4', 'suit': 's', 'display': '4s'}], 'bet_amount': 1.0}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 25.330034971237183, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T03:51:10.066746'}
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 0
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: check, 金额: 0
玩家 admin 必须先弃掉一张牌
check_all_players_acted True {1: True, 7: True}
进入下一轮，当前轮： 0
发放翻牌圈 (flop)
发放公共牌: 2d
发放公共牌: 3c
发放公共牌: Qd
庄家位置后的第一个活跃玩家 admin (位置 7) 将首先行动
进入1轮, 当前玩家索引: 7, 底池: 2.0
公共牌: ["{'rank': '2', 'suit': 'd', 'display': '2d'}", "{'rank': '3', 'suit': 'c', 'display': '3c'}", "{'rank': 'Q', 'suit': 'd', 'display': 'Qd'}"]
Error broadcasting timeout action: There is no current event loop in thread 'Thread-4'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Game phase changed: PRE_FLOP -> FLOP
处理玩家 7 动作: check, 金额: 0
玩家 admin 必须先弃掉一张牌
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 1
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: check, 金额: 0
玩家 admin 必须先弃掉一张牌
check_all_players_acted False {1: False, 7: True}
轮到玩家 hq (位置 1)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-5'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
处理玩家 1 动作: check, 金额: 0
玩家 hq 选择check
进入下一轮，当前轮： 1
发放转牌圈 (turn)
发放转牌: 3h
庄家位置后的第一个活跃玩家 admin (位置 7) 将首先行动
进入2轮, 当前玩家索引: 7, 底池: 2.0
公共牌: ["{'rank': '2', 'suit': 'd', 'display': '2d'}", "{'rank': '3', 'suit': 'c', 'display': '3c'}", "{'rank': 'Q', 'suit': 'd', 'display': 'Qd'}", "{'rank': '3', 'suit': 'h', 'display': '3h'}"]
[BROADCAST][game_update]: Action=check, Player=hq, GameState={'room_id': '81f24fe1-3147-42bb-bdbc-99354d200f9b', 'name': 'csa', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'TURN', 'remaining_time': 3530.621874, 'game': {'handid': '53e28c33-b83d-4035-bf9b-bc4c73d91fe9', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}}, {'name': 'admin', 'chips': 332.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 0, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': False}], 'pot': 2.0, 'total_pot': 2.0, 'current_bet': 0, 'community_cards': [{'rank': '2', 'suit': 'd', 'display': '2d'}, {'rank': '3', 'suit': 'c', 'display': '3c'}, {'rank': 'Q', 'suit': 'd', 'display': 'Qd'}, {'rank': '3', 'suit': 'h', 'display': '3h'}], 'dealer_idx': 1, 'current_player_idx': 7, 'current_player': {'name': 'admin', 'chips': 332.0, 'position': 7, 'total_buy_in': 333.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 333.0, 'hand': [{'rank': 'A', 'suit': 'h', 'display': 'Ah'}, {'rank': '10', 'suit': 'd', 'display': '10d'}, {'rank': '4', 'suit': 's', 'display': '4s'}], 'bet_amount': 0}, 'betting_round': 2, 'game_phase': 'TURN', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 0, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T03:51:10.066746'}
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Game phase changed: FLOP -> TURN
INFO:     127.0.0.1:54572 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:54572 - "GET /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:54576 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:54576 - "GET /api/users/hq HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125556.491447}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c3 43 d0 75 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 24 88 30 58 [binary, 4 bytes]
DEBUG:    < PONG c3 43 d0 75 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 24 88 30 58 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8c 21 7d 38 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8c 2f 44 7d [binary, 4 bytes]
DEBUG:    < PONG 8c 21 7d 38 [binary, 4 bytes]
DEBUG:    < PONG 8c 2f 44 7d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1745 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1745 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1616 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1657 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 62 ec f4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3b 85 90 be [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125582.3562977}' [46 bytes]
DEBUG:    < PONG 94 62 ec f4 [binary, 4 bytes]
DEBUG:    < PONG 3b 85 90 be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ca 72 65 79 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0b ea b4 f9 [binary, 4 bytes]
DEBUG:    < PONG ca 72 65 79 [binary, 4 bytes]
DEBUG:    < PONG 0b ea b4 f9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125587.4141667}' [46 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...anged: TURN -> RIVER"}}' [1790 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...anged: TURN -> RIVER"}}' [1790 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1656 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1697 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'mz:F' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3a 07 57 91 [binary, 4 bytes]
DEBUG:    < PONG 'mz:F' [text, 4 bytes]
DEBUG:    < PONG 3a 07 57 91 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x17\x0c\\\x14' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 33 71 99 02 [binary, 4 bytes]
DEBUG:    < PONG '\x17\x0c\\\x14' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 33 71 99 02 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125612.3544204}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125616.4970756}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d3 db 6b b7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 ea 60 18 [binary, 4 bytes]
DEBUG:    < PONG d3 db 6b b7 [binary, 4 bytes]
DEBUG:    < PONG 65 ea 60 18 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 cd a3 ca [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 42 11 81 [binary, 4 bytes]
DEBUG:    < PONG 03 cd a3 ca [binary, 4 bytes]
DEBUG:    < PONG b7 42 11 81 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":2}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1896 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1896 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1712 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe..."d","display":"10d"}]}}' [1714 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c 85 5b 2c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5c 16 99 2f [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125642.3551862}' [46 bytes]
DEBUG:    < PONG 5c 16 99 2f [binary, 4 bytes]
DEBUG:    < PONG 7c 85 5b 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 21 3d a6 63 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d2 5e bc a4 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125646.4879847}' [46 bytes]
DEBUG:    < PONG 21 3d a6 63 [binary, 4 bytes]
DEBUG:    < PONG d2 5e bc a4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1851 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1851 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1720 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe..."d","display":"10d"}]}}' [1722 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a5 8a 6b 5f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c1 07 d3 6e [binary, 4 bytes]
DEBUG:    < PONG a5 8a 6b 5f [binary, 4 bytes]
DEBUG:    < PONG c1 07 d3 6e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 43 13 ab [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 86 95 5e e0 [binary, 4 bytes]
DEBUG:    < PONG c0 43 13 ab [binary, 4 bytes]
DEBUG:    < PONG 86 95 5e e0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125672.3563502}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125676.485043}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 43 b2 8e 01 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ae c6 ab b8 [binary, 4 bytes]
DEBUG:    < PONG 43 b2 8e 01 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG ae c6 ab b8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 1a 30 ef [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 18 2b e6 [binary, 4 bytes]
DEBUG:    < PONG f8 1a 30 ef [binary, 4 bytes]
DEBUG:    < PONG b3 18 2b e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [2092 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [2092 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"Kd"}]}}' [1961 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe..."d","display":"10d"}]}}' [1963 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...d: RIVER -> PRE_FLOP"}}' [1570 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...d: RIVER -> PRE_FLOP"}}' [1570 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"4h"}]}}' [1471 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"6d"}]}}' [1471 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f0 ee c4 c0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 42 98 95 d2 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125702.3564336}' [46 bytes]
DEBUG:    < PONG f0 ee c4 c0 [binary, 4 bytes]
DEBUG:    < PONG 42 98 95 d2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...2bb-bdbc-99354d200f9b"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"53e2...:0.5,"big_blind":1.0}]}' [2765 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a4 56 6e 09 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e2 9b 2e a6 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125706.4897687}' [46 bytes]
DEBUG:    < PONG a4 56 6e 09 [binary, 4 bytes]
DEBUG:    < PONG e2 9b 2e a6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d9 b2 9f e8 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u0149\x0eH' [text, 4 bytes]
DEBUG:    < PONG d9 b2 9f e8 [binary, 4 bytes]
DEBUG:    < PONG '\u0149\x0eH' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 7 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1754 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1754 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"4h"}]}}' [1671 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"6d"}]}}' [1671 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":100,"seat_index":1}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746125726.3793242}}' [1778 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746125726.3793242}}' [1778 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 46 2f 22 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 99 17 a1 5d [binary, 4 bytes]
DEBUG:    < PONG b4 46 2f 22 [binary, 4 bytes]
DEBUG:    < PONG 99 17 a1 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1557 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1557 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"3d"}]}}' [1465 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1465 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125732.353238}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125736.4932678}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 24 18 e0 34 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING "_'\x15m" [text, 4 bytes]
DEBUG:    < PONG 24 18 e0 34 [binary, 4 bytes]
DEBUG:    < PONG "_'\x15m" [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5b d6 1e 8a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 91 f8 b8 4f [binary, 4 bytes]
DEBUG:    < PONG 5b d6 1e 8a [binary, 4 bytes]
DEBUG:    < PONG 91 f8 b8 4f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1746 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1746 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"3d"}]}}' [1665 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1665 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125762.3528943}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3a 43 5c f1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8f 7e 10 0a [binary, 4 bytes]
DEBUG:    < PONG 8f 7e 10 0a [binary, 4 bytes]
DEBUG:    < PONG 3a 43 5c f1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1563 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1563 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1473 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"3s"}]}}' [1471 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea 70 fd 14 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 61 76 b1 0f [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125766.492987}' [45 bytes]
DEBUG:    < PONG ea 70 fd 14 [binary, 4 bytes]
DEBUG:    < PONG 61 76 b1 0f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING be b2 35 dc [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '4\x17 4' [text, 4 bytes]
DEBUG:    < PONG be b2 35 dc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG '4\x17 4' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 02 c0 3f cc [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 45 46 40 9e [binary, 4 bytes]
DEBUG:    < PONG 45 46 40 9e [binary, 4 bytes]
DEBUG:    < PONG 02 c0 3f cc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125792.3582144}' [46 bytes]
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 7 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1756 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1756 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1675 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"3s"}]}}' [1673 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125796.5053265}' [46 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1559 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1559 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"6s"}]}}' [1469 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1467 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 21 99 67 a4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 86 be 1c 67 [binary, 4 bytes]
DEBUG:    < PONG 21 99 67 a4 [binary, 4 bytes]
DEBUG:    < PONG 86 be 1c 67 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
WARNING:  StatReload detected changes in 'src\models\game.py'. Reloading...
DEBUG:    % sending keepalive ping
DEBUG:    > PING f5 3c 96 6f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'ah\u0335' [text, 4 bytes]
DEBUG:    < PONG 'ah\u0335' [text, 4 bytes]
DEBUG:    < PONG f5 3c 96 6f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125822.3553941}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 67 08 85 70 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 42 df cd [binary, 4 bytes]
DEBUG:    < PONG 28 42 df cd [binary, 4 bytes]
DEBUG:    < PONG 67 08 85 70 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5b 3a 93 af [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cf 16 04 7f [binary, 4 bytes]
DEBUG:    < PONG 5b 3a 93 af [binary, 4 bytes]
DEBUG:    < PONG cf 16 04 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125826.5160608}' [46 bytes]
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
INFO:     Shutting down
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1750 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1750 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"6s"}]}}' [1669 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1667 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1563 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1563 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1471 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"5d"}]}}' [1471 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c9 83 aa 9b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c3 fe 49 88 [binary, 4 bytes]
DEBUG:    < PONG c9 83 aa 9b [binary, 4 bytes]
DEBUG:    < PONG c3 fe 49 88 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a3 a1 ea e5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d7 2b 5b 44 [binary, 4 bytes]
DEBUG:    < PONG a3 a1 ea e5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG d7 2b 5b 44 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125852.3558466}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125856.4874222}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d3 7f 56 e1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 a3 19 57 [binary, 4 bytes]
DEBUG:    < PONG d3 7f 56 e1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 03 a3 19 57 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 7 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1754 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1754 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1671 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"d","display":"5d"}]}}' [1671 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a6 50 2d a5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b5 17 4b 55 [binary, 4 bytes]
DEBUG:    < PONG a6 50 2d a5 [binary, 4 bytes]
DEBUG:    < PONG b5 17 4b 55 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1557 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1557 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"2c"}]}}' [1465 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1465 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125882.3552628}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c 33 7a d4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fd 24 92 29 [binary, 4 bytes]
DEBUG:    < PONG fd 24 92 29 [binary, 4 bytes]
DEBUG:    < PONG 7c 33 7a d4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125886.4907212}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING dd 29 74 23 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3f d2 5b 51 [binary, 4 bytes]
DEBUG:    < PONG dd 29 74 23 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 3f d2 5b 51 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1748 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1748 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"2c"}]}}' [1665 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"s","display":"4s"}]}}' [1665 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 93 83 08 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8d 61 6b 7f [binary, 4 bytes]
DEBUG:    < PONG a9 93 83 08 [binary, 4 bytes]
DEBUG:    < PONG 8d 61 6b 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1564 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1564 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1473 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe..."s","display":"10s"}]}}' [1475 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f7 d8 97 90 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING "'\x12к" [text, 4 bytes]
DEBUG:    < PONG f7 d8 97 90 [binary, 4 bytes]
DEBUG:    < PONG "'\x12к" [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125912.3546112}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125916.4913056}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 dd 8f 9c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'y8\x06"' [text, 4 bytes]
DEBUG:    < PONG 95 dd 8f 9c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'y8\x06"' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 97 f6 c6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '5q1 ' [text, 4 bytes]
DEBUG:    < PONG d4 97 f6 c6 [binary, 4 bytes]
DEBUG:    < PONG '5q1 ' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 7 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1756 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1756 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"2h"}]}}' [1673 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe..."s","display":"10s"}]}}' [1675 bytes]
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 0
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: check, 金额: 0
玩家 admin 必须先弃掉一张牌
check_all_players_acted False {1: False, 7: True}
轮到玩家 hq (位置 1)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-7'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Room state saved successfully. Rooms: 2
处理玩家 1 动作: check, 金额: 0
玩家 hq 选择check
进入下一轮，当前轮： 2
发放河牌圈 (river)
发放河牌: 4c
庄家位置后的第一个活跃玩家 admin (位置 7) 将首先行动
进入3轮, 当前玩家索引: 7, 底池: 2.0
公共牌: ["{'rank': '2', 'suit': 'd', 'display': '2d'}", "{'rank': '3', 'suit': 'c', 'display': '3c'}", "{'rank': 'Q', 'suit': 'd', 'display': 'Qd'}", "{'rank': '3', 'suit': 'h', 'display': '3h'}", "{'rank': '4', 'suit': 'c', 'display': '4c'}"]
check_all_players_acted False {1: False, 7: False}
轮到玩家 hq (位置 1)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-8'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Game phase changed: TURN -> RIVER
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
处理玩家 1 动作: check, 金额: 0
玩家 hq 选择check
轮到玩家 admin (位置 7)
check_all_players_acted False {1: True, 7: False}
轮到玩家 hq (位置 1)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-10'.
玩家 admin 弃掉了第 2 张牌: {'rank': '4', 'suit': 's', 'display': '4s'}
[BROADCAST][game_update]: Action=discard, Player=admin, GameState={'room_id': '81f24fe1-3147-42bb-bdbc-99354d200f9b', 'name': 'csa', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'RIVER', 'remaining_time': 3438.715423, 'game': {'handid': '53e28c33-b83d-4035-bf9b-bc4c73d91fe9', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 0, 'folded': False, 'is_current_player': True, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}}, {'name': 'admin', 'chips': 332.0, 'position': 7, 'seat': 7, 'has_cards': True, 'is_active': True, 'bet_amount': 0, 'folded': False, 'is_current_player': False, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '4', 'suit': 's', 'display': '4s'}}], 'pot': 2.0, 'total_pot': 2.0, 'current_bet': 0, 'community_cards': [{'rank': '2', 'suit': 'd', 'display': '2d'}, {'rank': '3', 'suit': 'c', 'display': '3c'}, {'rank': 'Q', 'suit': 'd', 'display': 'Qd'}, {'rank': '3', 'suit': 'h', 'display': '3h'}, {'rank': '4', 'suit': 'c', 'display': '4c'}], 'dealer_idx': 1, 'current_player_idx': 1, 'current_player': {'name': 'hq', 'chips': 110.0, 'position': 1, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'h', 'display': '6h'}, 'initial_chips': 111.0, 'hand': [{'rank': 'A', 'suit': 'd', 'display': 'Ad'}, {'rank': 'K', 'suit': 'd', 'display': 'Kd'}], 'bet_amount': 0}, 'betting_round': 3, 'game_phase': 'RIVER', 'active_players': [1, 7], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'hq', 'turn_remaining_time': 0, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T03:51:10.066746'}
Room state saved successfully. Rooms: 2
玩家 1 已经行动过
check_all_players_acted False {1: True, 7: False}
轮到玩家 admin (位置 7)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-12'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
Room state saved successfully. Rooms: 2
处理玩家 7 动作: check, 金额: 0
玩家 admin 选择check
进入下一轮，当前轮： 3
本手牌结束
Final pot after adding player bets: 2.0
Player hq wins 2.0 chips with Four of a Kind
已保存游戏历史记录，总共有 1 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: False}
轮到玩家 hq (位置 1)
Error broadcasting timeout action: There is no current event loop in thread 'Thread-13'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Starting next hand with handid: 644279e5-6b6a-4a5f-ae35-3f2a326dccd6
移动庄家按钮: 0 -> 1 (位置 7)
Dealing cards to players
Dealt cards to player position 1: Qs, Jc, 4h
Dealt cards to player position 7: Js, 6d, 7c

=== POSTING BLINDS ===
Before blinds: hq has 112.0 chips
Before blinds: admin has 332.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 331.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 111.0

=== CHIPS AFTER BLINDS ===
hq has 111.0 chips, bet: 1.0, position: BIG BLIND
admin has 331.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
回合成功开始。当前玩家: admin
[DEBUG] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Change reason: Game phase changed: RIVER -> PRE_FLOP
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Game phase changed: RIVER -> PRE_FLOP
获取游戏历史记录，包含当前游戏和 1 局历史游戏
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 2
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 2 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: True}
Error in Game.advance_player: 7 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-16'.
[DEBUG] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Change reason: Pot changed: 0 -> 1.5
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
处理买入请求: 玩家=hq, 金额=100.0, 座位=1
玩家 hq 已买入 100.0，总买入: 211.0，总筹码: 211.0，座位: 1，position=1
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=buy_in, Player=hq, Result=True
Starting next hand with handid: 5c4c08e6-9b80-4521-9b56-307a61902a6a
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 5h, 3d, 4h
Dealt cards to player position 7: Jc, Qc, 2h

=== POSTING BLINDS ===
Before blinds: hq has 112.5 chips
Before blinds: admin has 331.5 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 112.0
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 330.5

=== CHIPS AFTER BLINDS ===
hq has 112.0 chips, bet: 0.5, position: BUTTON
admin has 330.5 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Room state saved successfully. Rooms: 2
处理玩家 1 动作: discard, 金额: 2
玩家 hq 必须先弃掉一张牌
处理玩家 1 动作: fold, 金额: 0
玩家 hq 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 3 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 7: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-18'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: c95314e0-b80b-4948-bbc6-5a28e663fee9
移动庄家按钮: 0 -> 1 (位置 7)
Dealing cards to players
Dealt cards to player position 1: 10c, 2h, Js
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1555 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 7 -> 1"}}' [1555 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"h","display":"3h"}]}}' [1465 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1465 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125942.3530893}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 7c 8c e9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 96 c7 ed 48 [binary, 4 bytes]
DEBUG:    < PONG 07 7c 8c e9 [binary, 4 bytes]
DEBUG:    < PONG 96 c7 ed 48 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125946.485414}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2c 83 dd f0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ce 14 f5 73 [binary, 4 bytes]
DEBUG:    < PONG 2c 83 dd f0 [binary, 4 bytes]
DEBUG:    < PONG ce 14 f5 73 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...2bb-bdbc-99354d200f9b"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125960.2003374}}' [1562 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125960.2003374}}' [1562 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746125960.2529027}}' [87 bytes]
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6c d2 12 e4 [binary, 4 bytes]
DEBUG:    < PONG 6c d2 12 e4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 63 90 ce 24 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 86 09 41 01 [binary, 4 bytes]
DEBUG:    < PONG 63 90 ce 24 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 86 09 41 01 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1751 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"4c"}]}}' [1668 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 7"}}' [1568 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"81f24fe...:"c","display":"5c"}]}}' [1478 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746125976.4850583}' [46 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"get_game_histor...2bb-bdbc-99354d200f9b"}' [99 bytes]
DEBUG:    > TEXT '{"type":"game_history","data":[{"game_id":"53e2...:0.5,"big_blind":1.0}]}' [42921 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...2bb-bdbc-99354d200f9b"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746125980.1015322}}' [1576 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING dd f2 14 93 [binary, 4 bytes]
DEBUG:    < PONG dd f2 14 93 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4e d6 d0 54 [binary, 4 bytes]
DEBUG:    < PONG 4e d6 d0 54 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 43 da 20 1a [binary, 4 bytes]
DEBUG:    < PONG 43 da 20 1a [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 7 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 16 a1 e6 [binary, 4 bytes]
DEBUG:    < PONG 75 16 a1 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < CLOSE 1001 (going away) [2 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1001 (going away) [2 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    < CLOSE 1001 (going away) [2 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1001 (going away) [2 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [24724]
Dealt cards to player position 7: Ah, 5s, 3s

=== POSTING BLINDS ===
Before blinds: hq has 112.0 chips
Before blinds: admin has 332.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 331.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 111.0

=== CHIPS AFTER BLINDS ===
hq has 111.0 chips, bet: 1.0, position: BIG BLIND
admin has 331.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
回合成功开始。当前玩家: admin
[DEBUG] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Change reason: Current player changed: 1 -> 7
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 0
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 4 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: True}
Error in Game.advance_player: 7 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-20'.
[DEBUG] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Change reason: Pot changed: 0 -> 1.5
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: c279cf09-8752-4908-8c2c-ebd1fa82b747
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 9s, 10d, 6s
Dealt cards to player position 7: 9d, Ac, 4c

=== POSTING BLINDS ===
Before blinds: hq has 112.5 chips
Before blinds: admin has 331.5 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 112.0
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 330.5

=== CHIPS AFTER BLINDS ===
hq has 112.0 chips, bet: 0.5, position: BUTTON
admin has 330.5 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Room state saved successfully. Rooms: 2
处理玩家 1 动作: discard, 金额: 2
玩家 hq 必须先弃掉一张牌
处理玩家 1 动作: fold, 金额: 0
玩家 hq 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 5 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 7: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-22'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Room state saved successfully. Rooms: 2
Starting next hand with handid: 79b76071-1945-4205-a4e2-256cdb135afe
移动庄家按钮: 0 -> 1 (位置 7)
Dealing cards to players
Dealt cards to player position 1: 4c, Js, Qs
Dealt cards to player position 7: 6s, 5d, 9s

=== POSTING BLINDS ===
Before blinds: hq has 112.0 chips
Before blinds: admin has 332.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 331.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 111.0

=== CHIPS AFTER BLINDS ===
hq has 111.0 chips, bet: 1.0, position: BIG BLIND
admin has 331.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
回合成功开始。当前玩家: admin
[DEBUG] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Change reason: Current player changed: 1 -> 7
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 0
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 6 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: True}
Error in Game.advance_player: 7 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-24'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 7be1132a-8dd2-444a-9cc9-13ee2b79ffd5
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 2c, 8d, Qs
Dealt cards to player position 7: 9d, 6s, 4s

=== POSTING BLINDS ===
Before blinds: hq has 112.5 chips
Before blinds: admin has 331.5 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 112.0
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 330.5

=== CHIPS AFTER BLINDS ===
hq has 112.0 chips, bet: 0.5, position: BUTTON
admin has 330.5 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Room state saved successfully. Rooms: 2
处理玩家 1 动作: discard, 金额: 2
玩家 hq 必须先弃掉一张牌
处理玩家 1 动作: fold, 金额: 0
玩家 hq 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 7 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 7: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-26'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 5b75a4ca-72aa-4154-a3b9-cba91f73e3f6
移动庄家按钮: 0 -> 1 (位置 7)
Dealing cards to players
Dealt cards to player position 1: 2h, 9h, Ac
Dealt cards to player position 7: 10s, Kd, Qh

=== POSTING BLINDS ===
Before blinds: hq has 112.0 chips
Before blinds: admin has 332.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 331.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 111.0

=== CHIPS AFTER BLINDS ===
hq has 111.0 chips, bet: 1.0, position: BIG BLIND
admin has 331.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 0
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 8 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: True}
Error in Game.advance_player: 7 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-28'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 15d79c72-061b-41e3-970f-a8f064ec759b
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 7h, 3h, Jd
Dealt cards to player position 7: 9d, 8d, 4c

=== POSTING BLINDS ===
Before blinds: hq has 112.5 chips
Before blinds: admin has 331.5 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 7 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 112.0
Big Blind: Player 7 (admin) posts 1.0, remaining chips: 330.5

=== CHIPS AFTER BLINDS ===
hq has 112.0 chips, bet: 0.5, position: BUTTON
admin has 330.5 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 7 -> 1
Room state saved successfully. Rooms: 2
处理玩家离开请求: 玩家=hq
处理站起请求: 玩家=hq
处理玩家 1 动作: 1, 金额: fold
无效的金额值: fold
玩家 hq 已站起离开座位 1
房主离开，设置新房主: admin
玩家 hq 已离开房间，带走 211.0 筹码
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=exit_game, Player=hq, Result=True
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room 81f24fe1-3147-42bb-bdbc-99354d200f9b
处理玩家 1 动作: discard, 金额: 1
玩家 hq 必须先弃掉一张牌
处理玩家 1 动作: fold, 金额: 0
玩家 hq 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 9 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 7: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-30'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 1427a3de-dc0f-4908-bfc3-8464fc96068f
移动庄家按钮: 0 -> 1 (位置 7)
Dealing cards to players
Dealt cards to player position 1: 6c, 3s, 2d
Dealt cards to player position 7: Jh, 5c, 10s

=== POSTING BLINDS ===
Before blinds: hq has 112.0 chips
Before blinds: admin has 332.0 chips
两人游戏 - Button/SB位置: 7 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 7 (admin) posts 0.5, remaining chips: 331.5
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 111.0

=== CHIPS AFTER BLINDS ===
hq has 111.0 chips, bet: 1.0, position: BIG BLIND
admin has 331.5 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 7)
设置当前玩家为: admin，索引: 7
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Current player changed: 1 -> 7
获取游戏历史记录，包含当前游戏和 9 局历史游戏
处理玩家离开请求: 玩家=admin
处理站起请求: 玩家=admin
处理玩家 7 动作: 7, 金额: fold
无效的金额值: fold
玩家 admin 已站起离开座位 7
玩家 admin 已离开房间，带走 333.0 筹码
[BROADCAST][room_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room 81f24fe1-3147-42bb-bdbc-99354d200f9b
Room state saved successfully. Rooms: 2
处理玩家 7 动作: discard, 金额: 2
玩家 admin 必须先弃掉一张牌
处理玩家 7 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 10 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 7: True}
Error in Game.advance_player: 7 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-32'.
[BROADCAST][game_update] Room 81f24fe1-3147-42bb-bdbc-99354d200f9b: Sending update. Reason: Pot changed: 0 -> 1.5
WebSocket disconnected for client: admin
WebSocket disconnected for client: hq
Application stopping...
Rooms at shutdown: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000001E01647ACC0>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000001E016526D80>}
INFO:     Started server process [27188]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
DEBUG:    = connection is CONNECTING
DEBUG:    = connection is CONNECTING
Initializing RoomManager
Creating Room: id=f2a0b3c7-893f-4486-904f-cd4114813bf3, name=sad1
Room created successfully: id=f2a0b3c7-893f-4486-904f-cd4114813bf3
Creating Room: id=81f24fe1-3147-42bb-bdbc-99354d200f9b, name=csa
Room created successfully: id=81f24fe1-3147-42bb-bdbc-99354d200f9b
Room state loaded successfully. Rooms: 2
Room manager cleanup thread started
Main room_manager instance id: 3196140078048
Initial rooms: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000002E82987AC00>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000002E82987ACF0>}
Application starting...
Rooms at startup: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000002E82987AC00>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000002E82987ACF0>}
Timer update task started
[DEBUG] Timer update task started at 2025-05-02 03:00:10.185956
INFO:     127.0.0.1:55585 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55561 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55534 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: MNaIWJ2CxZYUE9hqbqDMQQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:55587 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: ULqoVU8kJQVGBdXBUcwuzA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:55618 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55603 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55588 - "GET /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:55659 - "GET /api/users/hq HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 55546) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
INFO:     ('127.0.0.1', 55592) - "WebSocket /ws/game/81f24fe1-3147-42bb-bdbc-99354d200f9b?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    = connection is CLOSED
DEBUG:    = connection is CLOSED
INFO:     connection closed
INFO:     connection closed
User hq not in room 81f24fe1-3147-42bb-bdbc-99354d200f9b
User admin not in room 81f24fe1-3147-42bb-bdbc-99354d200f9b
INFO:     127.0.0.1:55588 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55659 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55659 - "OPTIONS /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='sda1' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=sda1, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 3196140078048
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=385cfd90-9361-499d-b71f-92a879ea3476, name=sda1
Room created successfully: id=385cfd90-9361-499d-b71f-92a879ea3476
已创建房间 385cfd90-9361-499d-b71f-92a879ea3476，房主: hq，当前房间总数: 3
Room state saved successfully. Rooms: 3
房间创建成功, 房间ID: 385cfd90-9361-499d-b71f-92a879ea3476
创建房间成功: {'id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:55603 - "POST /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55603 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
尝试将用户 hq 添加到房间 385cfd90-9361-499d-b71f-92a879ea3476
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room 385cfd90-9361-499d-b71f-92a879ea3476 with no seat assigned
成功: 用户 hq 已加入房间 385cfd90-9361-499d-b71f-92a879ea3476
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:55659 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:55659 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:55659 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: TjGI101pJ+NikU3hXRJWtQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55678) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: lUZ+LLJzxAOVQKa4onfBEA6WvRA=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:00:13 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...ame":"hq","chips":0}]}}' [273 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126013.5351706}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: mTO8Ab5vlICaunZ+Jy90Iw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55680) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: O/YvwK7E0yTx9D5eL2mPeiRbtow=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:00:13 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...ame":"hq","chips":0}]}}' [273 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746126013.582814}}' [83 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...ea3476","seat_index":1}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746126014.441032}}' [494 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":111,"seat_index":1}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746126015.3094523}}' [526 bytes]
Client hq connected
Added hq to room 385cfd90-9361-499d-b71f-92a879ea3476
Client hq connected
处理入座请求: 玩家=hq, 座位=1
玩家 hq 已入座在座位 1，同时设置position=1
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=sit_down, Player=hq, Result=True
处理买入请求: 玩家=hq, 金额=111.0, 座位=1
玩家 hq 已买入 111.0，总买入: 111.0，总筹码: 111.0，座位: 1，position=1
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=buy_in, Player=hq, Result=True
INFO:     127.0.0.1:55686 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55686 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='admin'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
尝试将用户 admin 添加到房间 385cfd90-9361-499d-b71f-92a879ea3476
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room 385cfd90-9361-499d-b71f-92a879ea3476 with no seat assigned
成功: 用户 admin 已加入房间 385cfd90-9361-499d-b71f-92a879ea3476
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:55687 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='admin'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:55687 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='admin'
成功找到房间: 385cfd90-9361-499d-b71f-92a879ea3476, 名称: sda1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:55687 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: N6Z6bZUse8yZzLNp2Z61uQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55700) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: AK6mJvfaUi+k09gGhAMLKRDqDk4=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:00:17 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...":"admin","chips":0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126017.9962327}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126017.9962327}}' [87 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: Zu5QgQ2x77EOgqZ2yMOGhw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55702) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: i749QeXe8mrkxFfmXYzKQMWvCBE=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:00:17 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...":"admin","chips":0}]}}' [317 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126018.0439017}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126018.0439017}}' [87 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...ea3476","seat_index":6}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746126018.919134}}' [544 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...mp":1746126018.919134}}' [544 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":333,"seat_index":6}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746126020.0329258}}' [576 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746126020.0329258}}' [576 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"start_game","ro...99d-b71f-92a879ea3476"}' [93 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...mp":1746126021.759069}}' [1549 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"start_g...mp":1746126021.759069}}' [1549 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1574 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...update for this room"}}' [1574 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"c","display":"3c"}]}}' [1487 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"2h"}]}}' [1485 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 52 4a 44 d1 [binary, 4 bytes]
DEBUG:    < PONG 52 4a 44 d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9d 87 b2 38 [binary, 4 bytes]
DEBUG:    < PONG 9d 87 b2 38 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":1}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1684 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1684 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"c","display":"3c"}]}}' [1542 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"2h"}]}}' [1501 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 97 7f 2c [binary, 4 bytes]
DEBUG:    < PONG 06 97 7f 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d5 57 f4 e9 [binary, 4 bytes]
DEBUG:    < PONG d5 57 f4 e9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126043.5876458}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126048.0697181}' [46 bytes]
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1815 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1815 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"c","display":"3c"}]}}' [1696 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"2h"}]}}' [1694 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 02 4d bc 35 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 24 4c 9e 29 [binary, 4 bytes]
DEBUG:    < PONG 02 4d bc 35 [binary, 4 bytes]
DEBUG:    < PONG 24 4c 9e 29 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 6"}}' [1566 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 6"}}' [1566 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"7s"}]}}' [1474 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"4h"}]}}' [1476 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 29 45 ac fa [binary, 4 bytes]
DEBUG:    < PONG 29 45 ac fa [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 76 3f c5 0a [binary, 4 bytes]
DEBUG:    < PONG 76 3f c5 0a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":0}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1670 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1670 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"7s"}]}}' [1490 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"4h"}]}}' [1531 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e1 d4 d6 e6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 20 14 b2 98 [binary, 4 bytes]
DEBUG:    < PONG 20 14 b2 98 [binary, 4 bytes]
DEBUG:    < PONG e1 d4 d6 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126073.591452}' [45 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"fold"}' [38 bytes]
DEBUG:    > TEXT '{"type":"error","data":{"message":"\\u73a9\\u5b...p":1746126076.5337017}}' [129 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 77 7a 4e [binary, 4 bytes]
DEBUG:    < PONG d1 77 7a 4e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a8 e0 ce c9 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126078.063466}' [45 bytes]
DEBUG:    < PONG a8 e0 ce c9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":1}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1723 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1723 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"7s"}]}}' [1539 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"4h"}]}}' [1541 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"fold"}' [38 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"fold","...:"player_action_fold"}}' [1852 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"fold","...:"player_action_fold"}}' [1852 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"7s"}]}}' [1700 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"4h"}]}}' [1702 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1821 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1821 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"7s"}]}}' [1700 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"4h"}]}}' [1702 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 6 -> 1"}}' [1558 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 6 -> 1"}}' [1558 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"d","display":"6d"}]}}' [1466 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"d","display":"5d"}]}}' [1466 bytes]
DEBUG:    < TEXT '{"type":"game_action","action":"discard","card_index":2}' [56 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1666 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"discard...layer_action_discard"}}' [1666 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"d","display":"6d"}]}}' [1521 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"c","display":"Qc"}]}}' [1482 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb 00 db 95 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e7 ec b5 be [binary, 4 bytes]
DEBUG:    < PONG e7 ec b5 be [binary, 4 bytes]
DEBUG:    < PONG cb 00 db 95 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 42 54 86 31 [binary, 4 bytes]
DEBUG:    < PONG 42 54 86 31 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u01e37n' [text, 4 bytes]
DEBUG:    < PONG '\u01e37n' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126103.5888534}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126108.0631652}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 71 62 c0 1b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d 77 9c 1c [binary, 4 bytes]
DEBUG:    < PONG 71 62 c0 1b [binary, 4 bytes]
DEBUG:    < PONG 0d 77 9c 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1814 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ot changed: 0 -> 1.5"}}' [1814 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"d","display":"6d"}]}}' [1692 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"c","display":"Qc"}]}}' [1692 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 82 3d 15 46 [binary, 4 bytes]
DEBUG:    < PONG 82 3d 15 46 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b6 d6 b0 4e [binary, 4 bytes]
DEBUG:    < PONG b6 d6 b0 4e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 6"}}' [1564 bytes]
DEBUG:    > TEXT '{"type":"game_update","data":{"action":"timer_u...ayer changed: 1 -> 6"}}' [1564 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"s","display":"4s"}]}}' [1472 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"385cfd9...:"h","display":"2h"}]}}' [1472 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...99d-b71f-92a879ea3476"}' [92 bytes]
Client admin connected
Added admin to room 385cfd90-9361-499d-b71f-92a879ea3476
Client admin connected
处理入座请求: 玩家=admin, 座位=6
玩家 admin 已入座在座位 6，同时设置position=6
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=sit_down, Player=admin, Result=True
处理买入请求: 玩家=admin, 金额=333.0, 座位=6
玩家 admin 已买入 333.0，总买入: 333.0，总筹码: 333.0，座位: 6，position=6
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=buy_in, Player=admin, Result=True
Starting game in room 385cfd90-9361-499d-b71f-92a879ea3476
检查玩家 hq: 位置=1, 筹码=111.0
检查玩家 admin: 位置=6, 筹码=333.0
Building player info, players: ['hq', 'admin']
Adding player hq with 111.0 chips at position 1
Adding player admin with 333.0 chips at position 6
Player info list: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0}]
Creating Game instance with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0}]
Initializing Game with players_info: [{'name': 'hq', 'chips': 111.0, 'position': 1, 'total_buy_in': 111.0}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0}]
Game object initialized, ready to start round
Dealing cards to players
Dealt cards to player position 1: 10h, 8c, 3c
Dealt cards to player position 6: 4d, 8h, 2h

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
计时器初始化: 设置时间为 1746126021.759069
回合成功开始。当前玩家: hq
Game started successfully. End time: 2025-05-02 04:00:21.759069
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=start_game, Player=hq, Result=True
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: First update for this room
玩家 admin 弃掉了第 1 张牌: {'rank': '4', 'suit': 'd', 'display': '4d'}
[BROADCAST][game_update]: Action=discard, Player=admin, GameState={'room_id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3587.472066, 'game': {'handid': '60e469cc-0c7a-43c2-81ff-ebe7d78d50f7', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.5, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 111.0, 'has_discarded': False}, {'name': 'admin', 'chips': 332.0, 'position': 6, 'seat': 6, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '4', 'suit': 'd', 'display': '4d'}}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 1, 'current_player_idx': 1, 'current_player': {'name': 'hq', 'chips': 110.5, 'position': 1, 'total_buy_in': 111.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 111.0, 'hand': [{'rank': '10', 'suit': 'h', 'display': '10h'}, {'rank': '8', 'suit': 'c', 'display': '8c'}, {'rank': '3', 'suit': 'c', 'display': '3c'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 6], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'hq', 'turn_remaining_time': 17.472065925598145, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T04:00:21.759069'}
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 1 张牌: {'rank': '8', 'suit': 'c', 'display': '8c'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-3'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 1 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-3'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 2f15f3cc-8d1c-4c2b-9b60-b50ebd066f38
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: Ad, 7s, 8c
Dealt cards to player position 6: 4h, 10h, 6c

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
玩家 hq 弃掉了第 0 张牌: {'rank': 'A', 'suit': 'd', 'display': 'Ad'}
[BROADCAST][game_update]: Action=discard, Player=hq, GameState={'room_id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3557.381853, 'game': {'handid': '2f15f3cc-8d1c-4c2b-9b60-b50ebd066f38', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 109.5, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': 'A', 'suit': 'd', 'display': 'Ad'}}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'seat': 6, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': False}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 6, 'current_player_idx': 6, 'current_player': {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 333.0, 'hand': [{'rank': '10', 'suit': 'h', 'display': '10h'}, {'rank': '6', 'suit': 'c', 'display': '6c'}, {'rank': '4', 'suit': 'h', 'display': '4h'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 6], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 0, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T04:00:21.759069'}
Room state saved successfully. Rooms: 3
处理玩家 6 动作: fold, 金额: 0
玩家 admin 必须先弃掉一张牌
玩家 admin 弃掉了第 1 张牌: {'rank': '6', 'suit': 'c', 'display': '6c'}
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746126123.195227}}' [1568 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746126123.195227}}' [1568 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746126123.2198086}}' [87 bytes]
INFO:     connection closed
[BROADCAST][game_update]: Action=discard, Player=admin, GameState={'room_id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3543.614218, 'game': {'handid': '2f15f3cc-8d1c-4c2b-9b60-b50ebd066f38', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 109.5, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': 'A', 'suit': 'd', 'display': 'Ad'}}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'seat': 6, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'c', 'display': '6c'}}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 6, 'current_player_idx': 6, 'current_player': {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'c', 'display': '6c'}, 'initial_chips': 333.0, 'hand': [{'rank': '10', 'suit': 'h', 'display': '10h'}, {'rank': '4', 'suit': 'h', 'display': '4h'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 6], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 0, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T04:00:21.759069'}
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 2 局游戏历史
Next hand will start in 5 seconds...
[BROADCAST][game_update]: Action=fold, Player=admin, GameState={'room_id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3543.022798, 'game': {'handid': '2f15f3cc-8d1c-4c2b-9b60-b50ebd066f38', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 111.0, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 111.0, 'has_discarded': True, 'discarded_card': {'rank': 'A', 'suit': 'd', 'display': 'Ad'}, 'hand': [{'rank': '8', 'suit': 'c', 'display': '8c'}, {'rank': '7', 'suit': 's', 'display': '7s'}], 'is_winner': True}, {'name': 'admin', 'chips': 333.0, 'position': 6, 'seat': 6, 'has_cards': True, 'is_active': False, 'bet_amount': 0.5, 'folded': True, 'is_current_player': True, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'c', 'display': '6c'}}], 'pot': 1.5, 'total_pot': 3.0, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 6, 'current_player_idx': 6, 'current_player': {'name': 'admin', 'chips': 333.0, 'position': 6, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '6', 'suit': 'c', 'display': '6c'}, 'initial_chips': 333.0, 'hand': [{'rank': '10', 'suit': 'h', 'display': '10h'}, {'rank': '4', 'suit': 'h', 'display': '4h'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'admin', 'turn_remaining_time': 0, 'turn_time_limit': 30, 'hand_complete': True, 'hand_winners': [1], 'showdown': False}, 'is_game_started': True, 'game_end_time': '2025-05-02T04:00:21.759069'}
[DEBUG] Room 385cfd90-9361-499d-b71f-92a879ea3476: Change reason: Pot changed: 0 -> 1.5
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 0210dd8d-480b-421f-b224-ed24177ffdaf
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 6d, Ad, Ks
Dealt cards to player position 6: Kc, 5d, Qc

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
玩家 admin 弃掉了第 2 张牌: {'rank': '5', 'suit': 'd', 'display': '5d'}
[BROADCAST][game_update]: Action=discard, Player=admin, GameState={'room_id': '385cfd90-9361-499d-b71f-92a879ea3476', 'name': 'sda1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'status': 'playing', 'game_duration_hours': 1.0, 'owner': 'hq', 'gamePhase': 'PRE_FLOP', 'remaining_time': 3533.843671, 'game': {'handid': '0210dd8d-480b-421f-b224-ed24177ffdaf', 'state': 'playing', 'players': [{'name': 'hq', 'chips': 110.5, 'position': 1, 'seat': 1, 'has_cards': True, 'is_active': True, 'bet_amount': 0.5, 'folded': False, 'is_current_player': True, 'total_buy_in': 111.0, 'has_discarded': False}, {'name': 'admin', 'chips': 332.0, 'position': 6, 'seat': 6, 'has_cards': True, 'is_active': True, 'bet_amount': 1.0, 'folded': False, 'is_current_player': False, 'total_buy_in': 333.0, 'has_discarded': True, 'discarded_card': {'rank': '5', 'suit': 'd', 'display': '5d'}}], 'pot': 0, 'total_pot': 1.5, 'current_bet': 1.0, 'community_cards': [], 'dealer_idx': 1, 'current_player_idx': 1, 'current_player': {'name': 'hq', 'chips': 110.5, 'position': 1, 'total_buy_in': 111.0, 'has_discarded': False, 'discarded_card': None, 'initial_chips': 111.0, 'hand': [{'rank': 'A', 'suit': 'd', 'display': 'Ad'}, {'rank': 'K', 'suit': 's', 'display': 'Ks'}, {'rank': '6', 'suit': 'd', 'display': '6d'}], 'bet_amount': 0.5}, 'betting_round': 0, 'game_phase': 'PRE_FLOP', 'active_players': [1, 6], 'blinds': {'small': 0.5, 'big': 1.0}, 'current_player_id': 'hq', 'turn_remaining_time': 0, 'turn_time_limit': 30}, 'is_game_started': True, 'game_end_time': '2025-05-02T04:00:21.759069'}
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 1 张牌: {'rank': 'K', 'suit': 's', 'display': 'Ks'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-7'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 3 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-7'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 5dadc037-65fc-4d06-b704-44048afa69b6
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: Qd, 4s, 7d
Dealt cards to player position 6: Ks, 2h, 8s

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[DEBUG] Room 385cfd90-9361-499d-b71f-92a879ea3476: Change reason: Current player changed: 1 -> 6
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
处理玩家离开请求: 玩家=hq
处理站起请求: 玩家=hq
处理玩家 6 动作: 1, 金额: fold
无效的金额值: fold
玩家 hq 已站起离开座位 1
房主离开，设置新房主: admin
玩家 hq 已离开房间，带走 111.0 筹码
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=exit_game, Player=hq, Result=True
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55923 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...99d-b71f-92a879ea3476"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...p":1746126125.3260672}}' [1575 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: vcgpLmY7aVjS2lzuedINlg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55934) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:06 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
处理玩家离开请求: 玩家=admin
处理站起请求: 玩家=admin
处理玩家 6 动作: 6, 金额: fold
无效的金额值: fold
玩家 admin 已站起离开座位 6
玩家 admin 已离开房间，带走 333.0 筹码
[BROADCAST][room_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room 385cfd90-9361-499d-b71f-92a879ea3476
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55938 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55938 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: 70zWvbq8ZYitoq66NZaCFA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55944) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:08 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: bLjz+flg3gSfpEwNkobFog==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55955) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:12 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8e 4f 64 c7 [binary, 4 bytes]
DEBUG:    < PONG 8e 4f 64 c7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
WARNING:  StatReload detected changes in 'src\models\game.py'. Reloading...
User admin not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room state saved successfully. Rooms: 3
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55964 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: bvvGqHCE7DWuEsdVZydBzg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55968) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:15 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User admin not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55940 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING f7 77 88 5c [binary, 4 bytes]
DEBUG:    < PONG f7 77 88 5c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: nX1WFxy5/a18rhmMV3aF8Q==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55982) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:22 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55985 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: HoNuB4aT+LUR1yMu1ZYWqQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 55993) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:02:24 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User admin not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:55995 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:55985 - "GET /api/rooms HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
INFO:     Shutting down
DEBUG:    % sending keepalive ping
DEBUG:    > PING c7 be 00 cf [binary, 4 bytes]
DEBUG:    < PONG c7 be 00 cf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ee 6d 59 c6 [binary, 4 bytes]
DEBUG:    < PONG ee 6d 59 c6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 20 e5 18 a1 [binary, 4 bytes]
DEBUG:    < PONG 20 e5 18 a1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1a 40 59 c3 [binary, 4 bytes]
DEBUG:    < PONG 1a 40 59 c3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 09 b7 56 4b [binary, 4 bytes]
DEBUG:    < PONG 09 b7 56 4b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 94 5e f2 [binary, 4 bytes]
DEBUG:    < PONG 07 94 5e f2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8b 57 fc 27 [binary, 4 bytes]
DEBUG:    < PONG 8b 57 fc 27 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a0 9e 64 ab [binary, 4 bytes]
DEBUG:    < PONG a0 9e 64 ab [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8e 1d 78 26 [binary, 4 bytes]
DEBUG:    < PONG 8e 1d 78 26 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3c 32 3c f8 [binary, 4 bytes]
DEBUG:    < PONG 3c 32 3c f8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 08 9a 92 c7 [binary, 4 bytes]
DEBUG:    < PONG 08 9a 92 c7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING df 98 d1 60 [binary, 4 bytes]
DEBUG:    < PONG df 98 d1 60 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '氮a' [text, 4 bytes]
DEBUG:    < PONG '氮a' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a3 52 78 5f [binary, 4 bytes]
DEBUG:    < PONG a3 52 78 5f [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3a 0d 12 b0 [binary, 4 bytes]
DEBUG:    < PONG 3a 0d 12 b0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 b5 fb ef [binary, 4 bytes]
DEBUG:    < PONG b1 b5 fb ef [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 2c ba a7 [binary, 4 bytes]
DEBUG:    < PONG 06 2c ba a7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3d 65 d8 d4 [binary, 4 bytes]
DEBUG:    < PONG 3d 65 d8 d4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING f7 8c 0b c8 [binary, 4 bytes]
DEBUG:    < PONG f7 8c 0b c8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa ed f8 22 [binary, 4 bytes]
DEBUG:    < PONG aa ed f8 22 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d9 ec da fb [binary, 4 bytes]
DEBUG:    < PONG d9 ec da fb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 15 0d 9d 02 [binary, 4 bytes]
DEBUG:    < PONG 15 0d 9d 02 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 85 6b 50 4b [binary, 4 bytes]
DEBUG:    < PONG 85 6b 50 4b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING da f7 9b 2e [binary, 4 bytes]
DEBUG:    < PONG da f7 9b 2e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 ab 86 bf [binary, 4 bytes]
DEBUG:    < PONG a9 ab 86 bf [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING ca 7f 9a 2c [binary, 4 bytes]
DEBUG:    < PONG ca 7f 9a 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 b3 05 94 [binary, 4 bytes]
DEBUG:    < PONG c0 b3 05 94 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 e9 be 1c [binary, 4 bytes]
DEBUG:    < PONG b4 e9 be 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 20 03 04 9e [binary, 4 bytes]
DEBUG:    < PONG 20 03 04 9e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 17 f1 ab 78 [binary, 4 bytes]
DEBUG:    < PONG 17 f1 ab 78 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 33 3d 66 [binary, 4 bytes]
DEBUG:    < PONG f8 33 3d 66 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 46 85 97 fb [binary, 4 bytes]
DEBUG:    < PONG 46 85 97 fb [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
玩家 admin 弃掉了第 1 张牌: {'rank': '8', 'suit': 's', 'display': '8s'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-9'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 4 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-9'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 5a904a6d-ea96-4551-bd4e-43bb16ffed96
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: As, 7d, 9s
Dealt cards to player position 6: 3s, Jc, Qc

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 0 张牌: {'rank': 'A', 'suit': 's', 'display': 'As'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-11'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 5 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-11'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 256a8463-583e-4624-b61b-2a1c75ac12f0
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: Jc, 5s, 8s
Dealt cards to player position 6: Ad, 2c, Kh

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 0 张牌: {'rank': 'A', 'suit': 'd', 'display': 'Ad'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-13'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 6 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-13'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Room state saved successfully. Rooms: 3
Starting next hand with handid: 72181dad-135b-4f27-bbb4-e0c79dbc21e3
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 9c, 10c, Qd
Dealt cards to player position 6: 4s, Ad, 5c

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 2 张牌: {'rank': '9', 'suit': 'c', 'display': '9c'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-15'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 7 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-15'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 24115572-e0e0-4e36-8296-3453f4851044
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: 2c, 6s, 5h
Dealt cards to player position 6: 2d, Qh, Kc

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 2 张牌: {'rank': '2', 'suit': 'd', 'display': '2d'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-17'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 8 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-17'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 4e1fc5e6-95b9-4972-a17d-d51a42199a33
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 6d, 10d, 5h
Dealt cards to player position 6: 5d, 2s, Ac

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Checking for expired rooms...
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea 43 87 6e [binary, 4 bytes]
DEBUG:    < PONG ea 43 87 6e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3e f6 98 ec [binary, 4 bytes]
DEBUG:    < PONG 3e f6 98 ec [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 70 6f c1 4c [binary, 4 bytes]
DEBUG:    < PONG 70 6f c1 4c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 63 ca 8a 82 [binary, 4 bytes]
DEBUG:    < PONG 63 ca 8a 82 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 3d 32 e2 [binary, 4 bytes]
DEBUG:    < PONG fb 3d 32 e2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 12 4d d6 5d [binary, 4 bytes]
DEBUG:    < PONG 12 4d d6 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '{?|\x14' [text, 4 bytes]
DEBUG:    < PONG '{?|\x14' [text, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5c a8 76 d3 [binary, 4 bytes]
DEBUG:    < PONG 5c a8 76 d3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 a8 9d a0 [binary, 4 bytes]
DEBUG:    < PONG 90 a8 9d a0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e8 dc a1 55 [binary, 4 bytes]
DEBUG:    < PONG e8 dc a1 55 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 bb 00 26 [binary, 4 bytes]
DEBUG:    < PONG 94 bb 00 26 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7e 8b 56 33 [binary, 4 bytes]
DEBUG:    < PONG 7e 8b 56 33 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 's\x1a-k' [text, 4 bytes]
DEBUG:    < PONG 's\x1a-k' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 43 af 56 78 [binary, 4 bytes]
DEBUG:    < PONG 43 af 56 78 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u0336A\x14' [text, 4 bytes]
DEBUG:    < PONG '\u0336A\x14' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING dc d7 25 07 [binary, 4 bytes]
DEBUG:    < PONG dc d7 25 07 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6b a5 68 fa [binary, 4 bytes]
DEBUG:    < PONG 6b a5 68 fa [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 73 70 db [binary, 4 bytes]
DEBUG:    < PONG 28 73 70 db [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 1 张牌: {'rank': '6', 'suit': 'd', 'display': '6d'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-19'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 9 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-19'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 9e73f016-8c33-4dff-bbcd-61c8e864c7b2
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: Js, 7d, 8c
Dealt cards to player position 6: Ac, 4s, Ad

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 1 张牌: {'rank': 'A', 'suit': 'd', 'display': 'Ad'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-21'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 10 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-21'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: c87a029b-0981-4d44-95c9-2ddbb9097b59
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 2h, 9c, 2s
Dealt cards to player position 6: 10d, 7s, 4h

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 0 张牌: {'rank': '9', 'suit': 'c', 'display': '9c'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-23'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 11 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-23'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 5580249b-30c6-486f-b352-5f9db9e7d90e
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: 7c, 4c, 4h
Dealt cards to player position 6: 10h, 8c, 9s

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 2 张牌: {'rank': '8', 'suit': 'c', 'display': '8c'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-25'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 12 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-25'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Room state saved successfully. Rooms: 3
Starting next hand with handid: 1a72c795-a000-45bf-a0bd-7800e0815f9a
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 9h, 8h, Jc
Dealt cards to player position 6: 8c, 8s, 10d

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 1 张牌: {'rank': '9', 'suit': 'h', 'display': '9h'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-27'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 13 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-27'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 2734934d-ab45-4f54-8eaa-9bfcdcf655aa
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: 5s, Ad, 9h
Dealt cards to player position 6: Qd, 10h, 8c

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
DEBUG:    % sending keepalive ping
DEBUG:    > PING c9 83 bd c1 [binary, 4 bytes]
DEBUG:    < PONG c9 83 bd c1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'lX,*' [text, 4 bytes]
DEBUG:    < PONG 'lX,*' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c1 64 b8 52 [binary, 4 bytes]
DEBUG:    < PONG c1 64 b8 52 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 1 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING c8 70 47 13 [binary, 4 bytes]
DEBUG:    < PONG c8 70 47 13 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b2 46 4d 23 [binary, 4 bytes]
DEBUG:    < PONG b2 46 4d 23 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3f 75 08 8a [binary, 4 bytes]
DEBUG:    < PONG 3f 75 08 8a [binary, 4 bytes]
DEBUG:    % received keepalive pong
Traceback (most recent call last):
  File "D:\c32poker\src\models\game.py", line 560, in advance_player
    current_idx = self.active_players.index(self.current_player_idx)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: 6 is not in list
DEBUG:    % sending keepalive ping
DEBUG:    > PING 54 64 f4 ee [binary, 4 bytes]
DEBUG:    < PONG 54 64 f4 ee [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING de 0c 32 43 [binary, 4 bytes]
DEBUG:    < PONG de 0c 32 43 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5c 13 a9 59 [binary, 4 bytes]
DEBUG:    < PONG 5c 13 a9 59 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 34 64 f2 19 [binary, 4 bytes]
DEBUG:    < PONG 34 64 f2 19 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < CLOSE 1001 (going away) [2 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1001 (going away) [2 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    < CLOSE 1001 (going away) [2 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1001 (going away) [2 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [27188]
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 0 张牌: {'rank': 'Q', 'suit': 'd', 'display': 'Qd'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-29'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 14 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-29'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 1f1189d7-8456-41f5-b18f-7939e2e7e16c
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 7c, 5d, 9s
Dealt cards to player position 6: 5h, 6c, 2h

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 2 张牌: {'rank': '5', 'suit': 'd', 'display': '5d'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-31'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 15 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-31'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: fbc08fc5-265c-4e7d-994a-7e8d6e208f4e
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: 9c, 5d, 7d
Dealt cards to player position 6: 2h, 4h, Qd

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 0 张牌: {'rank': 'Q', 'suit': 'd', 'display': 'Qd'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-33'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 16 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-33'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 4ee2cbcb-9b61-4bcd-90b8-1bb7ba10729b
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: Jd, 4h, 7s
Dealt cards to player position 6: 3d, Jh, 6h

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 0 张牌: {'rank': 'J', 'suit': 'd', 'display': 'Jd'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-35'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 17 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-35'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: a57257fb-4ece-4414-9615-ce93aebfdfd4
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: 10h, 6h, 3h
Dealt cards to player position 6: 7h, Jc, 5d

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 2 张牌: {'rank': '5', 'suit': 'd', 'display': '5d'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-37'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 18 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-37'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Room state saved successfully. Rooms: 3
Starting next hand with handid: 6a13430c-492a-41e0-b8ef-b2a3be13fbda
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: 9h, 7h, 3h
Dealt cards to player position 6: 8c, 6c, 2s

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
玩家 hq 弃掉了第 0 张牌: {'rank': '9', 'suit': 'h', 'display': '9h'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-39'.
处理玩家 1 动作: fold, 金额: 0
玩家 hq 选择弃牌
Final pot after adding player bets: 1.5
Player admin wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 19 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: True, 6: False}
Error in Game.advance_player: 1 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-39'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 4df86c18-7f1c-41cd-8d13-c5614b0c5b5f
移动庄家按钮: 0 -> 1 (位置 6)
Dealing cards to players
Dealt cards to player position 1: Kd, 2s, Jd
Dealt cards to player position 6: 6h, 2h, 7c

=== POSTING BLINDS ===
Before blinds: hq has 110.5 chips
Before blinds: admin has 333.5 chips
两人游戏 - Button/SB位置: 6 (admin)
两人游戏 - BB位置: 1 (hq)
Small Blind: Player 6 (admin) posts 0.5, remaining chips: 333.0
Big Blind: Player 1 (hq) posts 1.0, remaining chips: 109.5

=== CHIPS AFTER BLINDS ===
hq has 109.5 chips, bet: 1.0, position: BIG BLIND
admin has 333.0 chips, bet: 0.5, position: BUTTON
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 6)
设置当前玩家为: admin，索引: 6
回合成功开始。当前玩家: admin
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 1 -> 6
Room state saved successfully. Rooms: 3
玩家 admin 弃掉了第 0 张牌: {'rank': '7', 'suit': 'c', 'display': '7c'}
Error broadcasting timeout discard: There is no current event loop in thread 'Thread-41'.
处理玩家 6 动作: fold, 金额: 0
玩家 admin 选择弃牌
Final pot after adding player bets: 1.5
Player hq wins 1.5 chips (all others folded)
已保存游戏历史记录，总共有 20 局游戏历史
Next hand will start in 5 seconds...
check_all_players_acted False {1: False, 6: True}
Error in Game.advance_player: 6 is not in list
Error broadcasting timeout action: There is no current event loop in thread 'Thread-41'.
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Pot changed: 0 -> 1.5
Starting next hand with handid: 5a74a4a3-8d92-4d8b-8d29-30e58d7df7b9
移动庄家按钮: 1 -> 0 (位置 1)
Dealing cards to players
Dealt cards to player position 1: Jc, 5c, 2h
Dealt cards to player position 6: Kd, 8c, Qs

=== POSTING BLINDS ===
Before blinds: hq has 111.0 chips
Before blinds: admin has 333.0 chips
两人游戏 - Button/SB位置: 1 (hq)
两人游戏 - BB位置: 6 (admin)
Small Blind: Player 1 (hq) posts 0.5, remaining chips: 110.5
Big Blind: Player 6 (admin) posts 1.0, remaining chips: 332.0

=== CHIPS AFTER BLINDS ===
hq has 110.5 chips, bet: 0.5, position: BUTTON
admin has 332.0 chips, bet: 1.0, position: BIG BLIND
Total bets on table: 1.5
两人游戏: 由小盲注位置(庄家位置)开始行动 (玩家索引: 1)
设置当前玩家为: hq，索引: 1
回合成功开始。当前玩家: hq
[BROADCAST][game_update] Room 385cfd90-9361-499d-b71f-92a879ea3476: Sending update. Reason: Current player changed: 6 -> 1
Room state saved successfully. Rooms: 3
WebSocket disconnected for client: hq
WebSocket disconnected for client: admin
Application stopping...
Rooms at shutdown: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000002E82987AC00>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000002E82987ACF0>, '385cfd90-9361-499d-b71f-92a879ea3476': <src.models.room.Room object at 0x000002E829927770>}
INFO:     Started server process [5460]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
DEBUG:    = connection is CONNECTING
DEBUG:    = connection is CONNECTING
DEBUG:    = connection is CONNECTING
DEBUG:    = connection is CONNECTING
Initializing RoomManager
Creating Room: id=f2a0b3c7-893f-4486-904f-cd4114813bf3, name=sad1
Room created successfully: id=f2a0b3c7-893f-4486-904f-cd4114813bf3
Creating Room: id=81f24fe1-3147-42bb-bdbc-99354d200f9b, name=csa
Room created successfully: id=81f24fe1-3147-42bb-bdbc-99354d200f9b
Creating Room: id=385cfd90-9361-499d-b71f-92a879ea3476, name=sda1
Room created successfully: id=385cfd90-9361-499d-b71f-92a879ea3476
Room state loaded successfully. Rooms: 3
Room manager cleanup thread started
Main room_manager instance id: 1925200078240
Initial rooms: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000001C03EEAAD20>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000001C03ED735C0>, '385cfd90-9361-499d-b71f-92a879ea3476': <src.models.room.Room object at 0x000001C03EEAAFC0>}
Application starting...
Rooms at startup: {'f2a0b3c7-893f-4486-904f-cd4114813bf3': <src.models.room.Room object at 0x000001C03EEAAD20>, '81f24fe1-3147-42bb-bdbc-99354d200f9b': <src.models.room.Room object at 0x000001C03ED735C0>, '385cfd90-9361-499d-b71f-92a879ea3476': <src.models.room.Room object at 0x000001C03EEAAFC0>}
Timer update task started
[DEBUG] Timer update task started at 2025-05-02 03:12:24.786235
INFO:     127.0.0.1:56053 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56088 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56121 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56051 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56109 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56128 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: aFwZxNJau8xhw4Mt1OE5kw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:56190 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57423 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: u0kg3aUDrdQn94ZbhlMKhg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:56181 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56168 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57379 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57381 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57380 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57422 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56103 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: aojYlMZPwOrzjPiKP3LmGw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:56155 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57378 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: cvQ5wG7nTYU9gMMTaCq6EQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     127.0.0.1:57382 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57383 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:56040 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 56032) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
INFO:     ('127.0.0.1', 56568) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
INFO:     ('127.0.0.1', 56008) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
INFO:     ('127.0.0.1', 56574) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    = connection is CLOSED
DEBUG:    = connection is CLOSED
DEBUG:    = connection is CLOSED
DEBUG:    = connection is CLOSED
INFO:     connection closed
INFO:     connection closed
INFO:     connection closed
INFO:     connection closed
User admin not in room 385cfd90-9361-499d-b71f-92a879ea3476
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
User admin not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:57382 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57379 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57383 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57381 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57380 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57378 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57423 - "GET /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:57382 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57379 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57383 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:57383 - "GET /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:57423 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57383 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57460 - "OPTIONS /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='fff' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=fff, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 1925200078240
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=edd5ae94-18f8-4069-be74-4275aac0bce4, name=fff
Room created successfully: id=edd5ae94-18f8-4069-be74-4275aac0bce4
已创建房间 edd5ae94-18f8-4069-be74-4275aac0bce4，房主: hq，当前房间总数: 4
Room state saved successfully. Rooms: 4
房间创建成功, 房间ID: edd5ae94-18f8-4069-be74-4275aac0bce4
创建房间成功: {'id': 'edd5ae94-18f8-4069-be74-4275aac0bce4', 'name': 'fff', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:57460 - "POST /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57460 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='edd5ae94-18f8-4069-be74-4275aac0bce4' username='hq'
成功找到房间: edd5ae94-18f8-4069-be74-4275aac0bce4, 名称: fff
尝试将用户 hq 添加到房间 edd5ae94-18f8-4069-be74-4275aac0bce4
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room edd5ae94-18f8-4069-be74-4275aac0bce4 with no seat assigned
成功: 用户 hq 已加入房间 edd5ae94-18f8-4069-be74-4275aac0bce4
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:57460 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='edd5ae94-18f8-4069-be74-4275aac0bce4' username='hq'
成功找到房间: edd5ae94-18f8-4069-be74-4275aac0bce4, 名称: fff
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:57460 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='edd5ae94-18f8-4069-be74-4275aac0bce4' username='hq'
成功找到房间: edd5ae94-18f8-4069-be74-4275aac0bce4, 名称: fff
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:57460 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: AAldXhJ/cv/aACDWw+xnqw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57481) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: uHx0EWVuOiGWhBGDFOYBjZHt1zY=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:12:31 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"edd5ae9...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746126752.177183}}' [83 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: emWUyoElmyAHJn9yjMwQJg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57483) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: Vc5ye0lyaq9Ht2GP+76a/ozihYg=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:12:31 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"edd5ae9...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126752.2020817}}' [84 bytes]
Client hq connected
Added hq to room edd5ae94-18f8-4069-be74-4275aac0bce4
Client hq connected
INFO:     127.0.0.1:57424 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57424 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57425 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING a4 e9 91 87 [binary, 4 bytes]
DEBUG:    < PONG a4 e9 91 87 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3b 93 67 1a [binary, 4 bytes]
DEBUG:    < PONG 3b 93 67 1a [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 4
INFO:     127.0.0.1:57426 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126782.2041934}' [46 bytes]
INFO:     127.0.0.1:57567 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3b 48 ae e3 [binary, 4 bytes]
DEBUG:    < PONG 3b 48 ae e3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 15 b0 1c [binary, 4 bytes]
DEBUG:    < PONG f8 15 b0 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:57568 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...069-be74-4275aac0bce4"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746126802.031196}}' [471 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
处理玩家离开请求: 玩家=hq
玩家 hq 已离开房间，带走 0 筹码
[BROADCAST][room_update] Room edd5ae94-18f8-4069-be74-4275aac0bce4: Action=exit_game, Player=hq, Result=True
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57626 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57626 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57632 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: z2DVyf2ZUdL63Njt+Lkx+A==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57640) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:13:25 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room state saved successfully. Rooms: 4
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57632 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: pqswKdzejy7PEA3gaz2Jwg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57657) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:13:31 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING 70 f3 7f e0 [binary, 4 bytes]
DEBUG:    < PONG 70 f3 7f e0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57633 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57634 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: T9dh5BkJ8ahMCSh6O5xrXw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57683) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:13:41 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57693 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57694 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: Sft5jqUNB0rVZ5wQWC9GNA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57718) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:13:50 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING 68 0b 85 9d [binary, 4 bytes]
DEBUG:    < PONG 68 0b 85 9d [binary, 4 bytes]
DEBUG:    % received keepalive pong
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57697 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57698 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57739 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57698 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: ln6oBSqGEJhKtBYlTJJwHw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57752) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:13:59 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room state saved successfully. Rooms: 4
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:57766 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57772 - "GET /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='yuy' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=yuy, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 1925200078240
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=a0268cba-a10f-4ad0-93b8-3a79d4390632, name=yuy
Room created successfully: id=a0268cba-a10f-4ad0-93b8-3a79d4390632
已创建房间 a0268cba-a10f-4ad0-93b8-3a79d4390632，房主: hq，当前房间总数: 5
Room state saved successfully. Rooms: 5
房间创建成功, 房间ID: a0268cba-a10f-4ad0-93b8-3a79d4390632
创建房间成功: {'id': 'a0268cba-a10f-4ad0-93b8-3a79d4390632', 'name': 'yuy', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:57766 - "POST /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
成功找到房间: a0268cba-a10f-4ad0-93b8-3a79d4390632, 名称: yuy
尝试将用户 hq 添加到房间 a0268cba-a10f-4ad0-93b8-3a79d4390632
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room a0268cba-a10f-4ad0-93b8-3a79d4390632 with no seat assigned
成功: 用户 hq 已加入房间 a0268cba-a10f-4ad0-93b8-3a79d4390632
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:57766 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
成功找到房间: a0268cba-a10f-4ad0-93b8-3a79d4390632, 名称: yuy
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:57766 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
成功找到房间: a0268cba-a10f-4ad0-93b8-3a79d4390632, 名称: yuy
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:57766 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: xltdhH1zdWgGXS27fALobA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57790) - "WebSocket /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: Wrb3Srxifyq5D8alAtSxX6wfxsc=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:14:06 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...p":1746126802.031196}}}' [748 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"a0268cb...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126847.4446645}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: 7ZgdZcxLcW4Z79NjSVRjrQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 57792) - "WebSocket /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: dkcr+ltpKtkDzMxLlg1ZS0HYR2k=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Thu, 01 May 2025 19:14:07 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"a0268cb...ame":"hq","chips":0}]}}' [272 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746126847.4737213}}' [84 bytes]
Client hq reconnected
Sent reconnect state to hq
Added hq to room a0268cba-a10f-4ad0-93b8-3a79d4390632
Client hq connected
INFO:     127.0.0.1:57774 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5a 3c 79 ae [binary, 4 bytes]
DEBUG:    < PONG 5a 3c 79 ae [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:57774 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:57841 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7b a4 07 a4 [binary, 4 bytes]
DEBUG:    < PONG 7b a4 07 a4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 39 88 3a 4e [binary, 4 bytes]
DEBUG:    < PONG 39 88 3a 4e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e4 5a 4a 4f [binary, 4 bytes]
DEBUG:    < PONG e4 5a 4a 4f [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:57842 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126877.4791117}' [46 bytes]
INFO:     127.0.0.1:57874 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING af dd 14 32 [binary, 4 bytes]
DEBUG:    < PONG af dd 14 32 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x1e|\x13J' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG '\x1e|\x13J' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x04\x1b\x18z' [text, 4 bytes]
DEBUG:    < PONG '\x04\x1b\x18z' [text, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:57875 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:57896 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5b 5a b1 43 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 71 ad a8 [binary, 4 bytes]
DEBUG:    < PONG 5b 5a b1 43 [binary, 4 bytes]
DEBUG:    < PONG b7 71 ad a8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126907.496438}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 ae d0 ba [binary, 4 bytes]
DEBUG:    < PONG f2 ae d0 ba [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:57897 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:57924 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING f7 05 2d 2c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4b d4 d2 b1 [binary, 4 bytes]
DEBUG:    < PONG f7 05 2d 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 4b d4 d2 b1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0e e0 4a d5 [binary, 4 bytes]
DEBUG:    < PONG 0e e0 4a d5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:57925 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126937.4879096}' [46 bytes]
INFO:     127.0.0.1:57967 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 40 8e e5 a6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ee 08 cb c1 [binary, 4 bytes]
DEBUG:    < PONG 40 8e e5 a6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG ee 08 cb c1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING dc ec 2c fc [binary, 4 bytes]
DEBUG:    < PONG dc ec 2c fc [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:57968 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:58029 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 10 1e a7 39 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2c 63 1b d6 [binary, 4 bytes]
DEBUG:    < PONG 10 1e a7 39 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 2c 63 1b d6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126968.4076211}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e2 d0 2b 1d [binary, 4 bytes]
DEBUG:    < PONG e2 d0 2b 1d [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:58030 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58123 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 33 c3 d4 72 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a1 39 03 09 [binary, 4 bytes]
DEBUG:    < PONG 33 c3 d4 72 [binary, 4 bytes]
DEBUG:    < PONG a1 39 03 09 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 54 fb 57 1c [binary, 4 bytes]
DEBUG:    < PONG 54 fb 57 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:58124 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746126997.4925056}' [46 bytes]
INFO:     127.0.0.1:58178 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 d5 f6 d0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 11 bc f0 [binary, 4 bytes]
DEBUG:    < PONG 75 d5 f6 d0 [binary, 4 bytes]
DEBUG:    < PONG 04 11 bc f0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e6 74 cb 2a [binary, 4 bytes]
DEBUG:    < PONG e6 74 cb 2a [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58179 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 77 58 c0 1b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 36 47 a4 b8 [binary, 4 bytes]
DEBUG:    < PONG 77 58 c0 1b [binary, 4 bytes]
DEBUG:    < PONG 36 47 a4 b8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127027.4949582}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b2 25 49 76 [binary, 4 bytes]
DEBUG:    < PONG b2 25 49 76 [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:58253 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 e6 c2 0e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 63 9c f1 [binary, 4 bytes]
DEBUG:    < PONG 65 e6 c2 0e [binary, 4 bytes]
DEBUG:    < PONG d4 63 9c f1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d8 59 2a 78 [binary, 4 bytes]
DEBUG:    < PONG d8 59 2a 78 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127057.4892929}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 ed 9f 84 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'p\x17\x05$' [text, 4 bytes]
DEBUG:    < PONG 84 ed 9f 84 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'p\x17\x05$' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e7 a2 54 81 [binary, 4 bytes]
DEBUG:    < PONG e7 a2 54 81 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 ad 55 d9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 80 26 d6 c7 [binary, 4 bytes]
DEBUG:    < PONG d1 ad 55 d9 [binary, 4 bytes]
DEBUG:    < PONG 80 26 d6 c7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127087.494336}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fa 03 0e 74 [binary, 4 bytes]
DEBUG:    < PONG fa 03 0e 74 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Checking for expired rooms...
Room f2a0b3c7-893f-4486-904f-cd4114813bf3 will expire in 3.5 minutes
Notified 1 rooms about upcoming expiration. Remaining rooms: 5
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58254 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 05 0e 5e b1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 ed a4 d8 [binary, 4 bytes]
DEBUG:    < PONG 05 0e 5e b1 [binary, 4 bytes]
DEBUG:    < PONG b3 ed a4 d8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 35 e4 fe b9 [binary, 4 bytes]
DEBUG:    < PONG 35 e4 fe b9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127117.4814224}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e3 7b 0e 17 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 a8 8a 66 [binary, 4 bytes]
DEBUG:    < PONG e3 7b 0e 17 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 03 a8 8a 66 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a3 f3 a6 ba [binary, 4 bytes]
DEBUG:    < PONG a3 f3 a6 ba [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9d 43 9c 4e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e5 31 be 09 [binary, 4 bytes]
DEBUG:    < PONG 9d 43 9c 4e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG e5 31 be 09 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127147.4866617}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 06 ba 59 [binary, 4 bytes]
DEBUG:    < PONG b1 06 ba 59 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58401 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1e 08 ae 6c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 35 fb bb ff [binary, 4 bytes]
DEBUG:    < PONG 1e 08 ae 6c [binary, 4 bytes]
DEBUG:    < PONG 35 fb bb ff [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6d c8 c5 ee [binary, 4 bytes]
DEBUG:    < PONG 6d c8 c5 ee [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127177.485017}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 21 df cc [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'U:\u0278' [text, 4 bytes]
DEBUG:    < PONG c6 21 df cc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'U:\u0278' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1b ec e5 b8 [binary, 4 bytes]
DEBUG:    < PONG 1b ec e5 b8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a 30 3f ec [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a1 b8 f5 90 [binary, 4 bytes]
DEBUG:    < PONG 9a 30 3f ec [binary, 4 bytes]
DEBUG:    < PONG a1 b8 f5 90 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127207.4872947}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 85 e1 ed 9b [binary, 4 bytes]
DEBUG:    < PONG 85 e1 ed 9b [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58402 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 69 f7 40 bc [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING de 0b 7c 2b [binary, 4 bytes]
DEBUG:    < PONG 69 f7 40 bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG de 0b 7c 2b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e9 0a cd 3b [binary, 4 bytes]
DEBUG:    < PONG e9 0a cd 3b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127237.4930935}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b0 c7 77 53 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f5 8c 54 66 [binary, 4 bytes]
DEBUG:    < PONG b0 c7 77 53 [binary, 4 bytes]
DEBUG:    < PONG f5 8c 54 66 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f4 41 56 f7 [binary, 4 bytes]
DEBUG:    < PONG f4 41 56 f7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ff 75 02 d7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING df 4b 5a 31 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127267.4858117}' [46 bytes]
DEBUG:    < PONG ff 75 02 d7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG df 4b 5a 31 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 99 99 8c 96 [binary, 4 bytes]
DEBUG:    < PONG 99 99 8c 96 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58682 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING d0 f5 99 61 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 02 62 a6 [binary, 4 bytes]
DEBUG:    < PONG d0 f5 99 61 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 65 02 62 a6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2e 56 51 dc [binary, 4 bytes]
DEBUG:    < PONG 2e 56 51 dc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127297.4916499}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 22 7b a5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 16 d1 7c a9 [binary, 4 bytes]
DEBUG:    < PONG b4 22 7b a5 [binary, 4 bytes]
DEBUG:    < PONG 16 d1 7c a9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 00 ae 82 52 [binary, 4 bytes]
DEBUG:    < PONG 00 ae 82 52 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 24 ce 42 a4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 77 ef f3 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127327.4878738}' [46 bytes]
DEBUG:    < PONG 24 ce 42 a4 [binary, 4 bytes]
DEBUG:    < PONG b7 77 ef f3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5a 6d 80 08 [binary, 4 bytes]
DEBUG:    < PONG 5a 6d 80 08 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 5
Room state saved successfully. Rooms: 5
INFO:     127.0.0.1:58683 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\xb5~Q' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fe d2 66 0e [binary, 4 bytes]
DEBUG:    < PONG '\xb5~Q' [text, 4 bytes]
DEBUG:    < PONG fe d2 66 0e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING bd 8f a0 38 [binary, 4 bytes]
DEBUG:    < PONG bd 8f a0 38 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127357.4970164}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 0c f0 a8 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a3 a2 4d 64 [binary, 4 bytes]
DEBUG:    < PONG 06 0c f0 a8 [binary, 4 bytes]
DEBUG:    < PONG a3 a2 4d 64 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2b e0 c7 7f [binary, 4 bytes]
DEBUG:    < PONG 2b e0 c7 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 18 5e b8 ed [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c 9f f4 d1 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127387.4968772}' [46 bytes]
DEBUG:    < PONG 18 5e b8 ed [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 7c 9f f4 d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 68 df 89 c5 [binary, 4 bytes]
DEBUG:    < PONG 68 df 89 c5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Checking for expired rooms...
Room f2a0b3c7-893f-4486-904f-cd4114813bf3 has expired after 31.5 minutes of inactivity
Room f2a0b3c7-893f-4486-904f-cd4114813bf3 has been idle for 31.5 minutes and will be removed
Removing expired room: f2a0b3c7-893f-4486-904f-cd4114813bf3
已删除房间 f2a0b3c7-893f-4486-904f-cd4114813bf3，当前房间总数: 4
Room state saved successfully. Rooms: 4
Removed 1 expired rooms. Remaining rooms: 4
Room state saved successfully. Rooms: 4
Room state saved successfully. Rooms: 4
Room state saved successfully. Rooms: 4
INFO:     127.0.0.1:58934 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:58934 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 78 7c a6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 92 2d 11 [binary, 4 bytes]
DEBUG:    < PONG 04 78 7c a6 [binary, 4 bytes]
DEBUG:    < PONG 75 92 2d 11 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 93 ef f5 7f [binary, 4 bytes]
DEBUG:    < PONG 93 ef f5 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127417.4815648}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb 35 21 3e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac b6 d3 6d [binary, 4 bytes]
DEBUG:    < PONG cb 35 21 3e [binary, 4 bytes]
DEBUG:    < PONG ac b6 d3 6d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 10 97 32 [binary, 4 bytes]
DEBUG:    < PONG 90 10 97 32 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127447.4803286}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 63 61 e9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ad 35 e2 db [binary, 4 bytes]
DEBUG:    < PONG f2 63 61 e9 [binary, 4 bytes]
DEBUG:    < PONG ad 35 e2 db [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0a b5 6b bd [binary, 4 bytes]
DEBUG:    < PONG 0a b5 6b bd [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 4
Room state saved successfully. Rooms: 4
INFO:     127.0.0.1:58935 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING be 18 18 46 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4e 29 e8 13 [binary, 4 bytes]
DEBUG:    < PONG be 18 18 46 [binary, 4 bytes]
DEBUG:    < PONG 4e 29 e8 13 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 34 49 12 fd [binary, 4 bytes]
DEBUG:    < PONG 34 49 12 fd [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127477.4782999}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 ad 89 46 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 02 b0 7a 21 [binary, 4 bytes]
DEBUG:    < PONG 02 b0 7a 21 [binary, 4 bytes]
DEBUG:    < PONG 06 ad 89 46 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f3 21 cf 08 [binary, 4 bytes]
DEBUG:    < PONG f3 21 cf 08 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127507.490366}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 33 f8 06 c6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 50 90 da bc [binary, 4 bytes]
DEBUG:    < PONG 33 f8 06 c6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 50 90 da bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1d b2 16 07 [binary, 4 bytes]
DEBUG:    < PONG 1d b2 16 07 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 4
Room state saved successfully. Rooms: 4
INFO:     127.0.0.1:59027 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING a1 ef 2d d7 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'PC[\n' [text, 4 bytes]
DEBUG:    < PONG a1 ef 2d d7 [binary, 4 bytes]
DEBUG:    < PONG 'PC[\n' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 5c 42 40 [binary, 4 bytes]
DEBUG:    < PONG d4 5c 42 40 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127537.4882224}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4d d8 83 8c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 3d 04 a8 [binary, 4 bytes]
DEBUG:    < PONG 4d d8 83 8c [binary, 4 bytes]
DEBUG:    < PONG c6 3d 04 a8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '(фQ' [text, 4 bytes]
DEBUG:    < PONG '(фQ' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746127567.4802678}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 f4 e7 8b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 57 80 fe b1 [binary, 4 bytes]
DEBUG:    < PONG 28 f4 e7 8b [binary, 4 bytes]
DEBUG:    < PONG 57 80 fe b1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 63 0a 06 a8 [binary, 4 bytes]
DEBUG:    < PONG 63 0a 06 a8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    ! failing connection with code 1006
DEBUG:    = connection is CLOSED
DEBUG:    x half-closing TCP connection
DEBUG:    ! failing connection with code 1006
DEBUG:    = connection is CLOSED
DEBUG:    ! failing connection with code 1006
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    x half-closing TCP connection
DEBUG:    x half-closing TCP connection
INFO:     connection closed
INFO:     connection closed
Room state saved successfully. Rooms: 4
Room state saved successfully. Rooms: 4
WebSocket disconnected for client: hq
Client hq disconnected
Removed hq from room a0268cba-a10f-4ad0-93b8-3a79d4390632
WebSocket disconnected for client: hq
WebSocket disconnected for client: hq
Room state saved successfully. Rooms: 4
INFO:     127.0.0.1:59126 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:59126 - "GET /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:59206 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:59209 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:59206 - "GET /api/users/admin HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: ER6bLOgyKuvc6rdAWO1jsA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 59258) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:36:13 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: 9RmiKjjfR9zmN2L1UJhlCg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 59279) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:36:22 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:59217 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: f3ITNYC/0Er7eRypjlLiUg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 59295) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTQ0NDk0NH0.WmDvO8Qsci-WalB6iby_oxMYj4cqpDAMfzGGvxrT40w" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Thu, 01 May 2025 19:36:32 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
Room state saved successfully. Rooms: 4
Checking for expired rooms...
Room 81f24fe1-3147-42bb-bdbc-99354d200f9b has expired after 37.3 minutes of inactivity
Room 81f24fe1-3147-42bb-bdbc-99354d200f9b has been idle for 37.3 minutes and will be removed
Room 385cfd90-9361-499d-b71f-92a879ea3476 has expired after 34.9 minutes of inactivity
Room 385cfd90-9361-499d-b71f-92a879ea3476 has been idle for 34.9 minutes and will be removed
Removing expired room: 81f24fe1-3147-42bb-bdbc-99354d200f9b
已删除房间 81f24fe1-3147-42bb-bdbc-99354d200f9b，当前房间总数: 3
Room state saved successfully. Rooms: 3
Removing expired room: 385cfd90-9361-499d-b71f-92a879ea3476
已删除房间 385cfd90-9361-499d-b71f-92a879ea3476，当前房间总数: 2
Room state saved successfully. Rooms: 2
Removed 2 expired rooms. Remaining rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:59371 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:59372 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:59601 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:59602 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
Room edd5ae94-18f8-4069-be74-4275aac0bce4 has expired after 784.0 minutes of inactivity
Room edd5ae94-18f8-4069-be74-4275aac0bce4 has been idle for 784.0 minutes and will be removed
Room a0268cba-a10f-4ad0-93b8-3a79d4390632 has expired after 783.3 minutes of inactivity
Room a0268cba-a10f-4ad0-93b8-3a79d4390632 has been idle for 783.3 minutes and will be removed
Sent room_expired notification to player: hq
Removing expired room: edd5ae94-18f8-4069-be74-4275aac0bce4
已删除房间 edd5ae94-18f8-4069-be74-4275aac0bce4，当前房间总数: 1
Room state saved successfully. Rooms: 1
Removing expired room: a0268cba-a10f-4ad0-93b8-3a79d4390632
已删除房间 a0268cba-a10f-4ad0-93b8-3a79d4390632，当前房间总数: 0
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
Removed 2 expired rooms. Remaining rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:59884 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:59888 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:59888 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:59884 - "GET /api/users/admin HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:59894 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60437 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:60475 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60476 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:60559 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60560 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:60682 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:60683 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60723 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:60724 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60918 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:60919 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61128 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61130 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61298 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61299 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61502 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61502 - "GET /api/users/admin HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61509 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:61509 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61867 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:61868 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62090 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62091 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62299 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62303 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62410 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:62410 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:62410 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
Room not found with any method
错误: 找不到房间 a0268cba-a10f-4ad0-93b8-3a79d4390632
当前所有房间: []
INFO:     127.0.0.1:62410 - "POST /api/rooms/join HTTP/1.1" 404 Not Found

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
Room not found with any method
错误: 找不到房间 a0268cba-a10f-4ad0-93b8-3a79d4390632
当前所有房间: []
INFO:     127.0.0.1:62410 - "POST /api/rooms/join HTTP/1.1" 404 Not Found
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: J1z0CCWxCGDbNw4dZGFK2Q==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 62429) - "WebSocket /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:34:35 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: OvrraeC/xRLllRZiHtgxYQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 62431) - "WebSocket /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:34:35 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room a0268cba-a10f-4ad0-93b8-3a79d4390632
Room not found with any method
User hq not in room a0268cba-a10f-4ad0-93b8-3a79d4390632
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62572 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62573 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0

===== 加入房间请求开始 =====
请求数据: room_id='a0268cba-a10f-4ad0-93b8-3a79d4390632' username='hq'
Room not found with any method
错误: 找不到房间 a0268cba-a10f-4ad0-93b8-3a79d4390632
当前所有房间: []
INFO:     127.0.0.1:62931 - "POST /api/rooms/join HTTP/1.1" 404 Not Found
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: SVoz6kS9f0MCk5Kbo16Kdw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 62934) - "WebSocket /ws/game/a0268cba-a10f-4ad0-93b8-3a79d4390632?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:37:22 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room a0268cba-a10f-4ad0-93b8-3a79d4390632
INFO:     127.0.0.1:62941 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:62945 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:62945 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63109 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63110 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63110 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63197 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63198 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63223 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63224 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63245 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63246 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63355 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:63355 - "GET /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='edd5ae94-18f8-4069-be74-4275aac0bce4' username='hq'
Room not found with any method
错误: 找不到房间 edd5ae94-18f8-4069-be74-4275aac0bce4
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found

===== 加入房间请求开始 =====
请求数据: room_id='edd5ae94-18f8-4069-be74-4275aac0bce4' username='hq'
Room not found with any method
错误: 找不到房间 edd5ae94-18f8-4069-be74-4275aac0bce4
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: tIZTSdffAM2TrKENeIo7Vg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63366) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:08 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: W+fR2QoMOL+Mt2AI++e5mw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63368) - "WebSocket /ws/game/edd5ae94-18f8-4069-be74-4275aac0bce4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:08 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
Room not found with any method
User hq not in room edd5ae94-18f8-4069-be74-4275aac0bce4
INFO:     127.0.0.1:63355 - "GET /api/rooms HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
Room not found with any method
错误: 找不到房间 385cfd90-9361-499d-b71f-92a879ea3476
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
Room not found with any method
错误: 找不到房间 385cfd90-9361-499d-b71f-92a879ea3476
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: Ayt6bf0B3NsYCNyi0RXQyw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63375) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:11 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: f2VqmM9ThYoXRcd1/u1edg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63377) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:11 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:63355 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:63355 - "GET /api/users/hq HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
Room not found with any method
错误: 找不到房间 385cfd90-9361-499d-b71f-92a879ea3476
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found

===== 加入房间请求开始 =====
请求数据: room_id='385cfd90-9361-499d-b71f-92a879ea3476' username='hq'
Room not found with any method
错误: 找不到房间 385cfd90-9361-499d-b71f-92a879ea3476
当前所有房间: []
INFO:     127.0.0.1:63355 - "POST /api/rooms/join HTTP/1.1" 404 Not Found
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: FYEqj6faevn7h+cmo+UVxA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63396) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:13 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: oDFnwoxBQVs48gJjHUiGOA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63398) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:13 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: sLMAjB00UgxuvBu5rulJYA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63413) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:19 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
INFO:     127.0.0.1:63423 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63423 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:63423 - "GET /api/users/admin HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: LHsg5JnSoBeDZngXFk1ngw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63433) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:29 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: gOCM3jT2SAkx648prTI0SA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63459) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:38 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: wd3EWOhplhXg/T9oSLq+LA==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 63484) - "WebSocket /ws/game/385cfd90-9361-499d-b71f-92a879ea3476?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 08:42:47 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room not found with any method
User hq not in room 385cfd90-9361-499d-b71f-92a879ea3476
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63427 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63717 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63718 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63926 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:63927 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64190 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64190 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64191 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64522 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64557 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64559 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64588 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64523 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64589 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64620 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64621 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64645 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64647 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64647 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64720 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64753 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64721 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64788 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64789 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64833 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64834 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64878 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64756 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:64879 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64984 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:64989 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65034 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65035 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65075 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65092 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65154 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65095 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65228 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65245 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65229 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:65229 - "GET /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:65303 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65246 - "GET /api/rooms HTTP/1.1" 200 OK
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65246 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:65246 - "GET /api/users/admin HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65394 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65410 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:65528 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65411 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:65411 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:49288 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49299 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:49672 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49300 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 0
INFO:     127.0.0.1:49673 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49673 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49673 - "OPTIONS /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='sdas1' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='hq'
房间参数: name=sdas1, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 1925200078240
使用creator字段作为房主: hq
最终确定的房主: hq
Creating Room: id=43de0fa8-441f-4643-92cf-14a7c628b75a, name=sdas1
Room created successfully: id=43de0fa8-441f-4643-92cf-14a7c628b75a
已创建房间 43de0fa8-441f-4643-92cf-14a7c628b75a，房主: hq，当前房间总数: 1
Room state saved successfully. Rooms: 1
房间创建成功, 房间ID: 43de0fa8-441f-4643-92cf-14a7c628b75a
创建房间成功: {'id': '43de0fa8-441f-4643-92cf-14a7c628b75a', 'name': 'sdas1', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:49673 - "POST /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49673 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='hq'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
尝试将用户 hq 添加到房间 43de0fa8-441f-4643-92cf-14a7c628b75a
Creating Player: name=hq, chips=0
Player hq created successfully with no assigned seat
Player hq joined room 43de0fa8-441f-4643-92cf-14a7c628b75a with no seat assigned
成功: 用户 hq 已加入房间 43de0fa8-441f-4643-92cf-14a7c628b75a
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:49673 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='hq'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:49673 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='hq'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 hq 已在房间中
INFO:     127.0.0.1:49673 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: v0/mq5N7tPvFOMUbXHXKrw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49715) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: IHUyyNNL+UA9N6aXWD787ABgHJA=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:01:33 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...p":1746126802.031196}}}' [748 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...ame":"hq","chips":0}]}}' [274 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176493.9102356}}' [84 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/122.0.6261.95 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br
DEBUG:    < accept-language: zh-CN,zh;q=0.9
DEBUG:    < sec-websocket-key: gEizlKGt2VVfgklFv/fROw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49717) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJocSIsImV4cCI6MjA2MTUzNDg3NH0.6d-7MeNfkxhTMq88m2I15TNJrZkKlZYBVjeoprLpkiY" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: ymeV6lpN4CgI+o5kkwUHGyDcCmQ=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:01:33 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...ame":"hq","chips":0}]}}' [274 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176493.9325156}}' [84 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"hi"}' [30 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746176501.3620923}}' [84 bytes]
Client hq reconnected
Sent reconnect state to hq
Added hq to room 43de0fa8-441f-4643-92cf-14a7c628b75a
Client hq connected
INFO:     127.0.0.1:49769 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea 02 ab cb [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x10d\x17|' [text, 4 bytes]
DEBUG:    < PONG ea 02 ab cb [binary, 4 bytes]
DEBUG:    < PONG '\x10d\x17|' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:49769 - "GET /api/rooms HTTP/1.1" 200 OK
Room state saved successfully. Rooms: 1
INFO:     127.0.0.1:49769 - "OPTIONS /api/rooms HTTP/1.1" 200 OK

===== 创建房间请求开始（room_routes.py） =====
请求数据: name='gdfdfgfg' small_blind=0.5 big_blind=1.0 buy_in_min=100.0 buy_in_max=1000.0 game_duration_hours=1.0 max_players=8 creator='admin'
房间参数: name=gdfdfgfg, max_players=8, small_blind=0.5, big_blind=1.0
游戏时长: 1.0 小时
房间管理器实例ID: 1925200078240
使用creator字段作为房主: admin
最终确定的房主: admin
Creating Room: id=3612420a-a283-48df-808f-70f0675c2ccb, name=gdfdfgfg
Room created successfully: id=3612420a-a283-48df-808f-70f0675c2ccb
已创建房间 3612420a-a283-48df-808f-70f0675c2ccb，房主: admin，当前房间总数: 2
Room state saved successfully. Rooms: 2
房间创建成功, 房间ID: 3612420a-a283-48df-808f-70f0675c2ccb
创建房间成功: {'id': '3612420a-a283-48df-808f-70f0675c2ccb', 'name': 'gdfdfgfg', 'max_players': 8, 'small_blind': 0.5, 'big_blind': 1.0, 'buy_in_min': 100.0, 'buy_in_max': 1000.0, 'players': [], 'current_players': 0, 'game_duration_hours': 1.0}
===== 创建房间请求结束（成功） =====

INFO:     127.0.0.1:49770 - "POST /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49770 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='3612420a-a283-48df-808f-70f0675c2ccb' username='admin'
成功找到房间: 3612420a-a283-48df-808f-70f0675c2ccb, 名称: gdfdfgfg
尝试将用户 admin 添加到房间 3612420a-a283-48df-808f-70f0675c2ccb
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room 3612420a-a283-48df-808f-70f0675c2ccb with no seat assigned
成功: 用户 admin 已加入房间 3612420a-a283-48df-808f-70f0675c2ccb
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:49769 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='3612420a-a283-48df-808f-70f0675c2ccb' username='admin'
成功找到房间: 3612420a-a283-48df-808f-70f0675c2ccb, 名称: gdfdfgfg
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49769 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='3612420a-a283-48df-808f-70f0675c2ccb' username='admin'
成功找到房间: 3612420a-a283-48df-808f-70f0675c2ccb, 名称: gdfdfgfg
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49769 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: WK8KtThubggcnaue5411Dw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49792) - "WebSocket /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: A8B9oHg4SJCwPPJgLLyQrE0Qwe0=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:01:56 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"3612420...":"admin","chips":0}]}}' [283 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176516.8801737}}' [87 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: HzM3T4fKDNuwKc/QdSuaNg==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49794) - "WebSocket /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: e6mGdxWlnVmFoX8mQIJ5XV5xAnA=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:01:56 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"3612420...":"admin","chips":0}]}}' [283 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176516.9287426}}' [87 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176523.9600542}' [46 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"wtf"}' [31 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176526.2525957}}' [88 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 cc 1e 58 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c5 f5 38 df [binary, 4 bytes]
DEBUG:    < PONG 95 cc 1e 58 [binary, 4 bytes]
DEBUG:    < PONG c5 f5 38 df [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 21 ac c6 b8 [binary, 4 bytes]
DEBUG:    < PONG 21 ac c6 b8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 11 b3 a7 23 [binary, 4 bytes]
DEBUG:    < PONG 11 b3 a7 23 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176547.7214818}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 63 48 62 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8b 08 ff fd [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176553.9663}' [43 bytes]
DEBUG:    < PONG 8b 08 ff fd [binary, 4 bytes]
DEBUG:    < PONG b3 63 48 62 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...8df-808f-70f0675c2ccb"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746176555.214365}}' [485 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
Client admin connected
Added admin to room 3612420a-a283-48df-808f-70f0675c2ccb
Client admin connected
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
处理玩家离开请求: 玩家=admin
玩家 admin 已离开房间，带走 0 筹码
[BROADCAST][room_update] Room 3612420a-a283-48df-808f-70f0675c2ccb: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room 3612420a-a283-48df-808f-70f0675c2ccb
INFO:     127.0.0.1:49891 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING d9 0a f9 4c [binary, 4 bytes]
DEBUG:    < PONG d9 0a f9 4c [binary, 4 bytes]
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:49891 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: rCfx1WmBCyLo7defKgOQ/g==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49901) - "WebSocket /ws/game/3612420a-a283-48df-808f-70f0675c2ccb?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 09:02:39 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
User admin not in room 3612420a-a283-48df-808f-70f0675c2ccb

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
尝试将用户 admin 添加到房间 43de0fa8-441f-4643-92cf-14a7c628b75a
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room 43de0fa8-441f-4643-92cf-14a7c628b75a with no seat assigned
成功: 用户 admin 已加入房间 43de0fa8-441f-4643-92cf-14a7c628b75a
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:49891 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49891 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49891 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: dg48Pu7n3nuUJESwCOL81w==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49905) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 1r6kReHnavkKnH+eDAC9wuwtuh0=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:02:40 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...p":1746176555.214365}}}' [773 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...":"admin","chips":0}]}}' [301 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746176561.089804}}' [86 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746176561.089804}}' [86 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: USQAKfZZVbHDJvowvscRjQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49908) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: XUYTHjh2VtBiMJhUlx6KdhJTEk4=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:02:40 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...":"admin","chips":0}]}}' [301 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176561.1600745}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176561.1600745}}' [87 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"exit_game","roo...643-92cf-14a7c628b75a"}' [92 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746176569.040351}}' [502 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"exit_ga...mp":1746176569.040351}}' [502 bytes]
DEBUG:    < CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    = connection is CLOSING
DEBUG:    > CLOSE 1005 (no status received [internal]) [0 bytes]
DEBUG:    x half-closing TCP connection
DEBUG:    = connection is CLOSED
DEBUG:    > TEXT '{"type":"player_disconnected","data":{"player_i...p":1746176569.1112335}}' [90 bytes]
INFO:     connection closed
Client admin reconnected
Sent reconnect state to admin
Added admin to room 43de0fa8-441f-4643-92cf-14a7c628b75a
Client admin connected
处理玩家离开请求: 玩家=admin
玩家 admin 已离开房间，带走 0 筹码
[BROADCAST][room_update] Room 43de0fa8-441f-4643-92cf-14a7c628b75a: Action=exit_game, Player=admin, Result=True
WebSocket disconnected for client: admin
Client admin disconnected
Removed admin from room 43de0fa8-441f-4643-92cf-14a7c628b75a
INFO:     127.0.0.1:49892 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49892 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:49892 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: DxejHaMiYFChPXFj3nxwbw==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49923) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" 403
DEBUG:    > HTTP/1.1 403 Forbidden
DEBUG:    > Date: Fri, 02 May 2025 09:02:52 GMT
DEBUG:    > Content-Length: 0
DEBUG:    > Content-Type: text/plain
DEBUG:    > Connection: close
DEBUG:    > [body] (0 bytes)
INFO:     connection rejected (403 Forbidden)
DEBUG:    x closing TCP connection
DEBUG:    = connection is CLOSED
INFO:     connection closed
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8c 75 82 62 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c8 59 a3 7c [binary, 4 bytes]
DEBUG:    < PONG 8c 75 82 62 [binary, 4 bytes]
DEBUG:    < PONG c8 59 a3 7c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
User admin not in room 43de0fa8-441f-4643-92cf-14a7c628b75a
Room state saved successfully. Rooms: 2

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
尝试将用户 admin 添加到房间 43de0fa8-441f-4643-92cf-14a7c628b75a
Creating Player: name=admin, chips=0
Player admin created successfully with no assigned seat
Player admin joined room 43de0fa8-441f-4643-92cf-14a7c628b75a with no seat assigned
成功: 用户 admin 已加入房间 43de0fa8-441f-4643-92cf-14a7c628b75a
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:49892 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49892 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='admin'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 admin 已在房间中
INFO:     127.0.0.1:49892 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: JIoj8TyCNdwU2be15Z9PhQ==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49929) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: 9ypiSAyxRQ0aRi2yZJGlKubj1yc=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:02:55 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"reconnect_state","data":{"game_state":...p":1746176569.040351}}}' [808 bytes]
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...":"admin","chips":0}]}}' [301 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176576.0536187}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176576.0536187}}' [87 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < connection: Upgrade
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36
DEBUG:    < upgrade: websocket
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-version: 13
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < accept-language: en-US,en-GB;q=0.9,en;q=0.8,zh-CN;q=0.7,zh;q=0.6
DEBUG:    < sec-websocket-key: dpgN4NLs3aKdO99KQui56Q==
DEBUG:    < sec-websocket-extensions: permessage-deflate; client_max_window_bits
INFO:     ('127.0.0.1', 49931) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MjA2MTM3MjM1M30.Nl-G-nZjOa0FN4Rozznw64-ioaa2V1r9YPQMwPBTWlg" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: vG448M80loIr2YzCscDKSw2lqnY=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:02:55 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...":"admin","chips":0}]}}' [301 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176576.1142156}}' [87 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...p":1746176576.1142156}}' [87 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ed aa 3e cb [binary, 4 bytes]
DEBUG:    < PONG ed aa 3e cb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"room_action","action":"sit_down","room...28b75a","seat_index":7}' [106 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...p":1746176580.8302982}}' [529 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"sit_dow...p":1746176580.8302982}}' [529 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4a 8b a7 5d [binary, 4 bytes]
DEBUG:    < PONG 4a 8b a7 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176583.9531417}' [46 bytes]
DEBUG:    < TEXT '{"type":"room_action","action":"buy_in","room_i...nt":333,"seat_index":7}' [117 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746176584.5816703}}' [560 bytes]
DEBUG:    > TEXT '{"type":"room_update","data":{"action":"buy_in"...p":1746176584.5816703}}' [560 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"okok"}' [32 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...mp":1746176590.142019}}' [88 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...mp":1746176590.142019}}' [88 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING bb 85 3e 22 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 16 58 28 a3 [binary, 4 bytes]
DEBUG:    < PONG 16 58 28 a3 [binary, 4 bytes]
DEBUG:    < PONG bb 85 3e 22 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cd 3a 54 9b [binary, 4 bytes]
DEBUG:    < PONG cd 3a 54 9b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c3 35 a8 f8 [binary, 4 bytes]
DEBUG:    < PONG c3 35 a8 f8 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"chat","message":"123"}' [31 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746176596.1442342}}' [85 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746176596.1442342}}' [85 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fd b2 da 78 [binary, 4 bytes]
DEBUG:    < PONG fd b2 da 78 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a5 17 66 2e [binary, 4 bytes]
DEBUG:    < PONG a5 17 66 2e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176606.1279895}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 09 53 e1 78 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6a b9 4c 13 [binary, 4 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176613.9780347}' [46 bytes]
DEBUG:    < PONG 09 53 e1 78 [binary, 4 bytes]
DEBUG:    < PONG 6a b9 4c 13 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c9 df 76 59 [binary, 4 bytes]
DEBUG:    < PONG c9 df 76 59 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 8f f7 6a [binary, 4 bytes]
DEBUG:    < PONG 04 8f f7 6a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7a c8 85 b1 [binary, 4 bytes]
DEBUG:    < PONG 7a c8 85 b1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 7d 2e c7 [binary, 4 bytes]
DEBUG:    < PONG d1 7d 2e c7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 29 7e e0 e1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 55 b6 de 21 [binary, 4 bytes]
DEBUG:    < PONG 29 7e e0 e1 [binary, 4 bytes]
DEBUG:    < PONG 55 b6 de 21 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d 4a 60 d1 [binary, 4 bytes]
DEBUG:    < PONG 0d 4a 60 d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 d4 74 b0 [binary, 4 bytes]
DEBUG:    < PONG 65 d4 74 b0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176636.7271588}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4c fe 81 e2 [binary, 4 bytes]
DEBUG:    < PONG 4c fe 81 e2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 64 7f 90 ee [binary, 4 bytes]
DEBUG:    < PONG 64 7f 90 ee [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176643.9848604}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 5b a4 e2 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e2 d1 21 09 [binary, 4 bytes]
DEBUG:    < PONG c0 5b a4 e2 [binary, 4 bytes]
DEBUG:    < PONG e2 d1 21 09 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 40 bd 7d 2a [binary, 4 bytes]
DEBUG:    < PONG 40 bd 7d 2a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '`\x02GI' [text, 4 bytes]
DEBUG:    < PONG '`\x02GI' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x0fm\u079c' [text, 4 bytes]
DEBUG:    < PONG '\x0fm\u079c' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 86 6a 9b 8e [binary, 4 bytes]
DEBUG:    < PONG 86 6a 9b 8e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176666.7357218}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176673.9830823}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 1d eb a1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1d 96 6f e5 [binary, 4 bytes]
DEBUG:    < PONG fb 1d eb a1 [binary, 4 bytes]
DEBUG:    < PONG 1d 96 6f e5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa c3 1d 90 [binary, 4 bytes]
DEBUG:    < PONG aa c3 1d 90 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8e 43 5b 1c [binary, 4 bytes]
DEBUG:    < PONG 8e 43 5b 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING da 05 46 10 [binary, 4 bytes]
DEBUG:    < PONG da 05 46 10 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 76 6f e1 e5 [binary, 4 bytes]
DEBUG:    < PONG 76 6f e1 e5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 9e 88 db [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 42 29 a4 af [binary, 4 bytes]
DEBUG:    < PONG 07 9e 88 db [binary, 4 bytes]
DEBUG:    < PONG 42 29 a4 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"chat","message":"fsfdgg"}' [34 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176694.2126982}}' [91 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176694.2126982}}' [91 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"dafdsfd"}' [35 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176696.0607626}}' [92 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176696.0607626}}' [92 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d c0 97 91 [binary, 4 bytes]
DEBUG:    < PONG 0d c0 97 91 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176696.1385183}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 15 83 5e af [binary, 4 bytes]
DEBUG:    < PONG 15 83 5e af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 49 72 b2 75 [binary, 4 bytes]
DEBUG:    < PONG 49 72 b2 75 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"chat","message":"qwewqwe"}' [35 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176697.3828614}}' [92 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"admin","messag...p":1746176697.3828614}}' [92 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d9 2d b1 37 [binary, 4 bytes]
DEBUG:    < PONG d9 2d b1 37 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176703.9680932}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 09 d9 44 95 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 43 51 90 [binary, 4 bytes]
DEBUG:    < PONG 09 d9 44 95 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG c6 43 51 90 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING dd 17 88 8b [binary, 4 bytes]
DEBUG:    < PONG dd 17 88 8b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 41 dc fd bc [binary, 4 bytes]
DEBUG:    < PONG 41 dc fd bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ec 0f a2 f9 [binary, 4 bytes]
DEBUG:    < PONG ec 0f a2 f9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cc 22 13 b7 [binary, 4 bytes]
DEBUG:    < PONG cc 22 13 b7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176726.1455882}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176733.994415}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d5 3b 72 20 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 94 be 25 [binary, 4 bytes]
DEBUG:    < PONG 94 94 be 25 [binary, 4 bytes]
DEBUG:    < PONG d5 3b 72 20 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'I[\x0e(' [text, 4 bytes]
DEBUG:    < PONG 'I[\x0e(' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fe 3f 73 7f [binary, 4 bytes]
DEBUG:    < PONG fe 3f 73 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 68 2f bc b0 [binary, 4 bytes]
DEBUG:    < PONG 68 2f bc b0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ';\x19?#' [text, 4 bytes]
DEBUG:    < PONG ';\x19?#' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1a 27 b8 8f [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 5f c6 60 [binary, 4 bytes]
DEBUG:    < PONG 1a 27 b8 8f [binary, 4 bytes]
DEBUG:    < PONG 92 5f c6 60 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 08 5d 7e c0 [binary, 4 bytes]
DEBUG:    < PONG 08 5d 7e c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b5 17 15 d4 [binary, 4 bytes]
DEBUG:    < PONG b5 17 15 d4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176756.7515523}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 a2 86 54 [binary, 4 bytes]
DEBUG:    < PONG 84 a2 86 54 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '4W\\\t' [text, 4 bytes]
DEBUG:    < PONG '4W\\\t' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176764.7614968}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 76 a5 f6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cc fa a2 4d [binary, 4 bytes]
DEBUG:    < PONG f2 76 a5 f6 [binary, 4 bytes]
DEBUG:    < PONG cc fa a2 4d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 13 9d b1 [binary, 4 bytes]
DEBUG:    < PONG b1 13 9d b1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6e bc 7c 57 [binary, 4 bytes]
DEBUG:    < PONG 6e bc 7c 57 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d8 23 84 c0 [binary, 4 bytes]
DEBUG:    < PONG d8 23 84 c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8f 24 06 e6 [binary, 4 bytes]
DEBUG:    < PONG 8f 24 06 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176786.7487514}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e8 d4 94 ed [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\u02bcU\x13' [text, 4 bytes]
DEBUG:    < PONG e8 d4 94 ed [binary, 4 bytes]
DEBUG:    < PONG '\u02bcU\x13' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176794.7661755}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e0 cf b5 dc [binary, 4 bytes]
DEBUG:    < PONG e0 cf b5 dc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 48 41 a9 d3 [binary, 4 bytes]
DEBUG:    < PONG 48 41 a9 d3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 f8 15 eb [binary, 4 bytes]
DEBUG:    < PONG d1 f8 15 eb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING eb 12 6a c0 [binary, 4 bytes]
DEBUG:    < PONG eb 12 6a c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 59 9e 6e 8d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 55 85 28 fd [binary, 4 bytes]
DEBUG:    < PONG 59 9e 6e 8d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 55 85 28 fd [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'gDt2' [text, 4 bytes]
DEBUG:    < PONG 'gDt2' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 65 55 fd [binary, 4 bytes]
DEBUG:    < PONG 28 65 55 fd [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 1e e6 41 43 [binary, 4 bytes]
DEBUG:    < PONG 1e e6 41 43 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9a 60 cb a9 [binary, 4 bytes]
DEBUG:    < PONG 9a 60 cb a9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176824.7835867}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 6b 8c c0 94 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 3c df 0c [binary, 4 bytes]
DEBUG:    < PONG fb 3c df 0c [binary, 4 bytes]
DEBUG:    < PONG 6b 8c c0 94 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ae 38 3a 01 [binary, 4 bytes]
DEBUG:    < PONG ae 38 3a 01 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 38 e6 20 ba [binary, 4 bytes]
DEBUG:    < PONG 38 e6 20 ba [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 f7 3b 1b [binary, 4 bytes]
DEBUG:    < PONG 04 f7 3b 1b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8a 3b d5 70 [binary, 4 bytes]
DEBUG:    < PONG 8a 3b d5 70 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176844.7655747}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9c 09 c0 d6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 52 a5 45 b9 [binary, 4 bytes]
DEBUG:    < PONG 9c 09 c0 d6 [binary, 4 bytes]
DEBUG:    < PONG 52 a5 45 b9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'B\u154e' [text, 4 bytes]
DEBUG:    < PONG 'B\u154e' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 03 23 ae 30 [binary, 4 bytes]
DEBUG:    < PONG 03 23 ae 30 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '~\x01k;' [text, 4 bytes]
DEBUG:    < PONG '~\x01k;' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 12 0b ae bb [binary, 4 bytes]
DEBUG:    < PONG 12 0b ae bb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 05 f9 c4 5a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8a 94 77 37 [binary, 4 bytes]
DEBUG:    < PONG 05 f9 c4 5a [binary, 4 bytes]
DEBUG:    < PONG 8a 94 77 37 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 39 73 08 f9 [binary, 4 bytes]
DEBUG:    < PONG 39 73 08 f9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING bf a0 c6 6c [binary, 4 bytes]
DEBUG:    < PONG bf a0 c6 6c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a7 cb 70 d1 [binary, 4 bytes]
DEBUG:    < PONG a7 cb 70 d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING de 5f f0 81 [binary, 4 bytes]
DEBUG:    < PONG de 5f f0 81 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176885.7805393}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '^9s}' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4b 2f b3 1b [binary, 4 bytes]
DEBUG:    < PONG '^9s}' [text, 4 bytes]
DEBUG:    < PONG 4b 2f b3 1b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5b 1d 2f d6 [binary, 4 bytes]
DEBUG:    < PONG 5b 1d 2f d6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 84 7b 4d [binary, 4 bytes]
DEBUG:    < PONG 95 84 7b 4d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 62 f1 42 b4 [binary, 4 bytes]
DEBUG:    < PONG 62 f1 42 b4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 01 5a 86 2b [binary, 4 bytes]
DEBUG:    < PONG 01 5a 86 2b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176904.7663918}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa 80 22 bb [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'H\u06ca\x1e' [text, 4 bytes]
DEBUG:    < PONG aa 80 22 bb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'H\u06ca\x1e' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c2 c6 2d c4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 94 0b 55 7d [binary, 4 bytes]
DEBUG:    < PONG c2 c6 2d c4 [binary, 4 bytes]
DEBUG:    < PONG 94 0b 55 7d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 64 a9 fb [binary, 4 bytes]
DEBUG:    < PONG 83 64 a9 fb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 31 0d f7 b6 [binary, 4 bytes]
DEBUG:    < PONG 31 0d f7 b6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 23 a5 4f 07 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING "'\u06de\x1e" [text, 4 bytes]
DEBUG:    < PONG 23 a5 4f 07 [binary, 4 bytes]
DEBUG:    < PONG "'\u06de\x1e" [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ',\u0776\x0c' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fd d7 6f e5 [binary, 4 bytes]
DEBUG:    < PONG ',\u0776\x0c' [text, 4 bytes]
DEBUG:    < PONG fd d7 6f e5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 33 fc 33 8b [binary, 4 bytes]
DEBUG:    < PONG 33 fc 33 8b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0e 04 28 e6 [binary, 4 bytes]
DEBUG:    < PONG 0e 04 28 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176946.794138}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 91 61 e9 d5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 56 6c 34 af [binary, 4 bytes]
DEBUG:    < PONG 91 61 e9 d5 [binary, 4 bytes]
DEBUG:    < PONG 56 6c 34 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8a 9e 32 9c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING aa 72 d9 0b [binary, 4 bytes]
DEBUG:    < PONG 8a 9e 32 9c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG aa 72 d9 0b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 18 83 8b f3 [binary, 4 bytes]
DEBUG:    < PONG 18 83 8b f3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 b2 35 9e [binary, 4 bytes]
DEBUG:    < PONG 92 b2 35 9e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176964.7737381}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0d d6 1e 75 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 76 4b 40 ae [binary, 4 bytes]
DEBUG:    < PONG 0d d6 1e 75 [binary, 4 bytes]
DEBUG:    < PONG 76 4b 40 ae [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f4 95 05 bd [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 6e 6a a6 [binary, 4 bytes]
DEBUG:    < PONG f4 95 05 bd [binary, 4 bytes]
DEBUG:    < PONG fb 6e 6a a6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d8 8a a5 cb [binary, 4 bytes]
DEBUG:    < PONG d8 8a a5 cb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746176978.2390637}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ca 81 a3 60 [binary, 4 bytes]
DEBUG:    < PONG ca 81 a3 60 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cd aa df 32 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f3 dd 11 81 [binary, 4 bytes]
DEBUG:    < PONG cd aa df 32 [binary, 4 bytes]
DEBUG:    < PONG f3 dd 11 81 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 b9 27 c3 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 4d 87 2f [binary, 4 bytes]
DEBUG:    < PONG 92 b9 27 c3 [binary, 4 bytes]
DEBUG:    < PONG 75 4d 87 2f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a0 60 4d fe [binary, 4 bytes]
DEBUG:    < PONG a0 60 4d fe [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 7d 7d d1 [binary, 4 bytes]
DEBUG:    < PONG b4 7d 7d d1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177004.0195742}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9e 8f 8e 5d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x08k\x0b\x18' [text, 4 bytes]
DEBUG:    < PONG '\x08k\x0b\x18' [text, 4 bytes]
DEBUG:    < PONG 9e 8f 8e 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4a af d0 db [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 85 f7 3c 69 [binary, 4 bytes]
DEBUG:    < PONG 85 f7 3c 69 [binary, 4 bytes]
DEBUG:    < PONG 4a af d0 db [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 7f 68 0b [binary, 4 bytes]
DEBUG:    < PONG a9 7f 68 0b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a1 f7 0a 53 [binary, 4 bytes]
DEBUG:    < PONG a1 f7 0a 53 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177024.8140104}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177034.0285828}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac 14 5c 38 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 24 95 f4 42 [binary, 4 bytes]
DEBUG:    < PONG ac 14 5c 38 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 24 95 f4 42 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8a 85 60 be [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 76 f6 37 03 [binary, 4 bytes]
DEBUG:    < PONG 8a 85 60 be [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 76 f6 37 03 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING af 30 ef 4c [binary, 4 bytes]
DEBUG:    < PONG af 30 ef 4c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'y\u04af;' [text, 4 bytes]
DEBUG:    < PONG 'y\u04af;' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '0F8\x0f' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING de d0 f3 03 [binary, 4 bytes]
DEBUG:    < PONG '0F8\x0f' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG de d0 f3 03 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea d1 1d 55 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9c 45 03 bb [binary, 4 bytes]
DEBUG:    < PONG 9c 45 03 bb [binary, 4 bytes]
DEBUG:    < PONG ea d1 1d 55 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 85 8f 81 a9 [binary, 4 bytes]
DEBUG:    < PONG 85 8f 81 a9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 43 a7 12 1c [binary, 4 bytes]
DEBUG:    < PONG 43 a7 12 1c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177064.03631}' [44 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 98 89 ff 77 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 18 ea 8b 2c [binary, 4 bytes]
DEBUG:    < PONG 98 89 ff 77 [binary, 4 bytes]
DEBUG:    < PONG 18 ea 8b 2c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e3 ac d3 02 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a4 98 f6 72 [binary, 4 bytes]
DEBUG:    < PONG e3 ac d3 02 [binary, 4 bytes]
DEBUG:    < PONG a4 98 f6 72 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 e7 ee 8c [binary, 4 bytes]
DEBUG:    < PONG 07 e7 ee 8c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e1 3f 06 bc [binary, 4 bytes]
DEBUG:    < PONG e1 3f 06 bc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177084.7893834}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177094.031605}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 e3 61 a2 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a4 8f e1 e6 [binary, 4 bytes]
DEBUG:    < PONG b1 e3 61 a2 [binary, 4 bytes]
DEBUG:    < PONG a4 8f e1 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 73 99 65 0e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e4 c3 d0 eb [binary, 4 bytes]
DEBUG:    < PONG 73 99 65 0e [binary, 4 bytes]
DEBUG:    < PONG e4 c3 d0 eb [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ba 81 f8 fc [binary, 4 bytes]
DEBUG:    < PONG ba 81 f8 fc [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 ae 10 d2 [binary, 4 bytes]
DEBUG:    < PONG 07 ae 10 d2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4a bc 23 ba [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '#H\x0ev' [text, 4 bytes]
DEBUG:    < PONG 4a bc 23 ba [binary, 4 bytes]
DEBUG:    < PONG '#H\x0ev' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 b0 d3 39 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 39 fc 74 48 [binary, 4 bytes]
DEBUG:    < PONG c0 b0 d3 39 [binary, 4 bytes]
DEBUG:    < PONG 39 fc 74 48 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7b 80 34 04 [binary, 4 bytes]
DEBUG:    < PONG 7b 80 34 04 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 04 d1 00 32 [binary, 4 bytes]
DEBUG:    < PONG 04 d1 00 32 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177124.033087}' [45 bytes]
Client admin reconnected
Sent reconnect state to admin
Added admin to room 43de0fa8-441f-4643-92cf-14a7c628b75a
Client admin connected
处理入座请求: 玩家=admin, 座位=7
玩家 admin 已入座在座位 7，同时设置position=7
[BROADCAST][room_update] Room 43de0fa8-441f-4643-92cf-14a7c628b75a: Action=sit_down, Player=admin, Result=True
处理买入请求: 玩家=admin, 金额=333.0, 座位=7
玩家 admin 已买入 333.0，总买入: 333.0，总筹码: 333.0，座位: 7，position=7
[BROADCAST][room_update] Room 43de0fa8-441f-4643-92cf-14a7c628b75a: Action=buy_in, Player=admin, Result=True
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:51115 - "OPTIONS /api/users/hq HTTP/1.1" 200 OK
INFO:     127.0.0.1:51115 - "GET /api/users/hq HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING e6 0d b6 f2 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'S\x15,u' [text, 4 bytes]
DEBUG:    < PONG e6 0d b6 f2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 'S\x15,u' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 75 43 96 b0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 2c 16 c8 00 [binary, 4 bytes]
DEBUG:    < PONG 75 43 96 b0 [binary, 4 bytes]
DEBUG:    < PONG 2c 16 c8 00 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING df d3 4f 23 [binary, 4 bytes]
DEBUG:    < PONG df d3 4f 23 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 18 f1 50 0a [binary, 4 bytes]
DEBUG:    < PONG 18 f1 50 0a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177144.8034964}' [46 bytes]
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:51157 - "OPTIONS /api/users/admin HTTP/1.1" 200 OK
INFO:     127.0.0.1:51157 - "GET /api/users/admin HTTP/1.1" 200 OK
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177154.0246956}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c6 dc cb 2b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 67 c4 55 2f [binary, 4 bytes]
DEBUG:    < PONG c6 dc cb 2b [binary, 4 bytes]
DEBUG:    < PONG 67 c4 55 2f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 19 f9 d0 6d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 ff bd ef [binary, 4 bytes]
DEBUG:    < PONG 19 f9 d0 6d [binary, 4 bytes]
DEBUG:    < PONG 83 ff bd ef [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ed ef 6c e4 [binary, 4 bytes]
DEBUG:    < PONG ed ef 6c e4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7b c0 f6 7f [binary, 4 bytes]
DEBUG:    < PONG 7b c0 f6 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d1 43 fa d4 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3c 05 fa 5e [binary, 4 bytes]
DEBUG:    < PONG d1 43 fa d4 [binary, 4 bytes]
DEBUG:    < PONG 3c 05 fa 5e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 08 a3 84 48 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'Fy>$' [text, 4 bytes]
DEBUG:    < PONG 08 a3 84 48 [binary, 4 bytes]
DEBUG:    < PONG 'Fy>$' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 73 05 e8 67 [binary, 4 bytes]
DEBUG:    < PONG 73 05 e8 67 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b6 a8 0d 73 [binary, 4 bytes]
DEBUG:    < PONG b6 a8 0d 73 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177184.049981}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 92 fb fa de [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 42 b2 27 d0 [binary, 4 bytes]
DEBUG:    < PONG 92 fb fa de [binary, 4 bytes]
DEBUG:    < PONG 42 b2 27 d0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 82 e8 c2 be [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ec e2 57 69 [binary, 4 bytes]
DEBUG:    < PONG 82 e8 c2 be [binary, 4 bytes]
DEBUG:    < PONG ec e2 57 69 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING bf 53 69 ec [binary, 4 bytes]
DEBUG:    < PONG bf 53 69 ec [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING dd 71 31 01 [binary, 4 bytes]
DEBUG:    < PONG dd 71 31 01 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177204.8081343}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177214.045243}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 8c d7 fe [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 84 d0 f3 66 [binary, 4 bytes]
DEBUG:    < PONG 84 d0 f3 66 [binary, 4 bytes]
DEBUG:    < PONG 95 8c d7 fe [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 23 3d 2e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 53 73 a1 [binary, 4 bytes]
DEBUG:    < PONG fb 53 73 a1 [binary, 4 bytes]
DEBUG:    < PONG d4 23 3d 2e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 60 d8 3b [binary, 4 bytes]
DEBUG:    < PONG 83 60 d8 3b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f9 1e b8 d5 [binary, 4 bytes]
DEBUG:    < PONG f9 1e b8 d5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ee 01 92 e9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7a d5 98 a8 [binary, 4 bytes]
DEBUG:    < PONG 7a d5 98 a8 [binary, 4 bytes]
DEBUG:    < PONG ee 01 92 e9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x1b\x7f)k' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 7f 12 d6 [binary, 4 bytes]
DEBUG:    < PONG '\x1b\x7f)k' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 06 7f 12 d6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING b8 9d bb ee [binary, 4 bytes]
DEBUG:    < PONG b8 9d bb ee [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 83 3c c3 3f [binary, 4 bytes]
DEBUG:    < PONG 83 3c c3 3f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177244.0521288}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 50 67 16 95 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 45 16 ea 2d [binary, 4 bytes]
DEBUG:    < PONG 45 16 ea 2d [binary, 4 bytes]
DEBUG:    < PONG 50 67 16 95 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5e e1 be 0a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b3 f5 f1 85 [binary, 4 bytes]
DEBUG:    < PONG b3 f5 f1 85 [binary, 4 bytes]
DEBUG:    < PONG 5e e1 be 0a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 56 85 71 9d [binary, 4 bytes]
DEBUG:    < PONG 56 85 71 9d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 20 0f d9 e7 [binary, 4 bytes]
DEBUG:    < PONG 20 0f d9 e7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177264.8080847}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177274.0584903}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c3 45 a2 63 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 34 e6 60 7f [binary, 4 bytes]
DEBUG:    < PONG c3 45 a2 63 [binary, 4 bytes]
DEBUG:    < PONG 34 e6 60 7f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 07 d4 72 15 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb d8 14 aa [binary, 4 bytes]
DEBUG:    < PONG 07 d4 72 15 [binary, 4 bytes]
DEBUG:    < PONG cb d8 14 aa [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 08 a4 37 b2 [binary, 4 bytes]
DEBUG:    < PONG 08 a4 37 b2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 15 f7 de 84 [binary, 4 bytes]
DEBUG:    < PONG 15 f7 de 84 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7e 9b ea 79 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f2 c1 27 a2 [binary, 4 bytes]
DEBUG:    < PONG 7e 9b ea 79 [binary, 4 bytes]
DEBUG:    < PONG f2 c1 27 a2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING da 79 ca c9 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3b aa 97 3b [binary, 4 bytes]
DEBUG:    < PONG da 79 ca c9 [binary, 4 bytes]
DEBUG:    < PONG 3b aa 97 3b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3e 5e 76 ae [binary, 4 bytes]
DEBUG:    < PONG 3e 5e 76 ae [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'Y\u0192l' [text, 4 bytes]
DEBUG:    < PONG 'Y\u0192l' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177304.0601242}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 e0 be 51 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 11 32 80 a4 [binary, 4 bytes]
DEBUG:    < PONG 11 32 80 a4 [binary, 4 bytes]
DEBUG:    < PONG a9 e0 be 51 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 37 d2 64 17 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b1 fb 75 52 [binary, 4 bytes]
DEBUG:    < PONG 37 d2 64 17 [binary, 4 bytes]
DEBUG:    < PONG b1 fb 75 52 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 7c 23 27 [binary, 4 bytes]
DEBUG:    < PONG a9 7c 23 27 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 67 37 4a df [binary, 4 bytes]
DEBUG:    < PONG 67 37 4a df [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177324.8200233}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177334.0709982}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'D\x0c[Z' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c4 f8 59 c1 [binary, 4 bytes]
DEBUG:    < PONG c4 f8 59 c1 [binary, 4 bytes]
DEBUG:    < PONG 'D\x0c[Z' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x10n\x03Y' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b7 95 cd c1 [binary, 4 bytes]
DEBUG:    < PONG b7 95 cd c1 [binary, 4 bytes]
DEBUG:    < PONG '\x10n\x03Y' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 65 13 82 d6 [binary, 4 bytes]
DEBUG:    < PONG 65 13 82 d6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 81 5f 2e ce [binary, 4 bytes]
DEBUG:    < PONG 81 5f 2e ce [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fc a4 88 f5 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4a ec 48 63 [binary, 4 bytes]
DEBUG:    < PONG fc a4 88 f5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 4a ec 48 63 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c d0 d7 3a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING f8 ab d9 80 [binary, 4 bytes]
DEBUG:    < PONG 7c d0 d7 3a [binary, 4 bytes]
DEBUG:    < PONG f8 ab d9 80 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 98 e7 53 d7 [binary, 4 bytes]
DEBUG:    < PONG 98 e7 53 d7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 80 07 df 43 [binary, 4 bytes]
DEBUG:    < PONG 80 07 df 43 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177364.0662022}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3c ed 1e ec [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 31 63 e3 e6 [binary, 4 bytes]
DEBUG:    < PONG 3c ed 1e ec [binary, 4 bytes]
DEBUG:    < PONG 31 63 e3 e6 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 52 5c e2 ea [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 26 03 c5 d9 [binary, 4 bytes]
DEBUG:    < PONG 52 5c e2 ea [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG 26 03 c5 d9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4c 63 e6 3c [binary, 4 bytes]
DEBUG:    < PONG 4c 63 e6 3c [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fb 1b 1f c2 [binary, 4 bytes]
DEBUG:    < PONG fb 1b 1f c2 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177384.8247383}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177394.070168}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 70 2f 31 8c [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 71 02 9d 6a [binary, 4 bytes]
DEBUG:    < PONG 70 2f 31 8c [binary, 4 bytes]
DEBUG:    < PONG 71 02 9d 6a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 11 88 01 4a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING a9 7b cb ce [binary, 4 bytes]
DEBUG:    < PONG a9 7b cb ce [binary, 4 bytes]
DEBUG:    < PONG 11 88 01 4a [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '\x16"yP' [text, 4 bytes]
DEBUG:    < PONG '\x16"yP' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 70 90 b0 af [binary, 4 bytes]
DEBUG:    < PONG 70 90 b0 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 d2 d5 65 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d5 25 c0 b5 [binary, 4 bytes]
DEBUG:    < PONG 06 d2 d5 65 [binary, 4 bytes]
DEBUG:    < PONG d5 25 c0 b5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'k!\u0761' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ec cd 50 a1 [binary, 4 bytes]
DEBUG:    < PONG 'k!\u0761' [text, 4 bytes]
DEBUG:    < PONG ec cd 50 a1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 56 22 d6 3f [binary, 4 bytes]
DEBUG:    < PONG 56 22 d6 3f [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '[T\x03K' [text, 4 bytes]
DEBUG:    < PONG '[T\x03K' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177424.0705826}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 63 f0 c2 39 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 11 9d 6b c0 [binary, 4 bytes]
DEBUG:    < PONG 63 f0 c2 39 [binary, 4 bytes]
DEBUG:    < PONG 11 9d 6b c0 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8d be 65 f0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7d 28 cf 3e [binary, 4 bytes]
DEBUG:    < PONG 8d be 65 f0 [binary, 4 bytes]
DEBUG:    < PONG 7d 28 cf 3e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cf cb 71 af [binary, 4 bytes]
DEBUG:    < PONG cf cb 71 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING d6 73 26 a3 [binary, 4 bytes]
DEBUG:    < PONG d6 73 26 a3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177444.824613}' [45 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177454.0671082}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING fa fc 87 c0 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 38 ee 0a 32 [binary, 4 bytes]
DEBUG:    < PONG fa fc 87 c0 [binary, 4 bytes]
DEBUG:    < PONG 38 ee 0a 32 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3f ec 23 68 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 55 af 87 a5 [binary, 4 bytes]
DEBUG:    < PONG 3f ec 23 68 [binary, 4 bytes]
DEBUG:    < PONG 55 af 87 a5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7c 82 29 1e [binary, 4 bytes]
DEBUG:    < PONG 7c 82 29 1e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 59 e7 07 c3 [binary, 4 bytes]
DEBUG:    < PONG 59 e7 07 c3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 41 f8 2e 2b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 55 cf 30 2d [binary, 4 bytes]
DEBUG:    < PONG 41 f8 2e 2b [binary, 4 bytes]
DEBUG:    < PONG 55 cf 30 2d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e0 03 0d 7b [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b9 9c f3 07 [binary, 4 bytes]
DEBUG:    < PONG e0 03 0d 7b [binary, 4 bytes]
DEBUG:    < PONG b9 9c f3 07 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 90 09 8a ca [binary, 4 bytes]
DEBUG:    < PONG 90 09 8a ca [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 67 6c 5f 82 [binary, 4 bytes]
DEBUG:    < PONG 67 6c 5f 82 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177484.0797803}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING b4 a2 72 66 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING e8 1a 61 ae [binary, 4 bytes]
DEBUG:    < PONG b4 a2 72 66 [binary, 4 bytes]
DEBUG:    < PONG e8 1a 61 ae [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a6 08 b8 6e [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9c 7e fb 48 [binary, 4 bytes]
DEBUG:    < PONG a6 08 b8 6e [binary, 4 bytes]
DEBUG:    < PONG 9c 7e fb 48 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'g5v*' [text, 4 bytes]
DEBUG:    < PONG 'g5v*' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4f dd 80 af [binary, 4 bytes]
DEBUG:    < PONG 4f dd 80 af [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177504.8420293}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 23 4c f1 4a [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 06 de 40 f9 [binary, 4 bytes]
DEBUG:    < PONG 23 4c f1 4a [binary, 4 bytes]
DEBUG:    < PONG 06 de 40 f9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177514.8523023}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c0 fb 3c 50 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 7d 87 1d d4 [binary, 4 bytes]
DEBUG:    < PONG c0 fb 3c 50 [binary, 4 bytes]
DEBUG:    < PONG 7d 87 1d d4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 79 b6 66 bf [binary, 4 bytes]
DEBUG:    < PONG 79 b6 66 bf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 15 58 ab bf [binary, 4 bytes]
DEBUG:    < PONG 15 58 ab bf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9f d8 ec 89 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING '-\x0b .' [text, 4 bytes]
DEBUG:    < PONG 9f d8 ec 89 [binary, 4 bytes]
DEBUG:    < PONG '-\x0b .' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 4d c6 43 b8 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 56 fa 78 9e [binary, 4 bytes]
DEBUG:    < PONG 4d c6 43 b8 [binary, 4 bytes]
DEBUG:    < PONG 56 fa 78 9e [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 97 c5 aa 20 [binary, 4 bytes]
DEBUG:    < PONG 97 c5 aa 20 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 95 69 2c dd [binary, 4 bytes]
DEBUG:    < PONG 95 69 2c dd [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177544.081813}' [45 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 0c 49 e6 9d [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c3 bf dc f3 [binary, 4 bytes]
DEBUG:    < PONG 0c 49 e6 9d [binary, 4 bytes]
DEBUG:    < PONG c3 bf dc f3 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 13 ff d0 e6 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING d4 11 e6 69 [binary, 4 bytes]
DEBUG:    < PONG 13 ff d0 e6 [binary, 4 bytes]
DEBUG:    < PONG d4 11 e6 69 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 28 5f 9e 44 [binary, 4 bytes]
DEBUG:    < PONG 28 5f 9e 44 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 'd\x01[*' [text, 4 bytes]
DEBUG:    < PONG 'd\x01[*' [text, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177564.8447852}' [46 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177574.0811596}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9e 62 48 da [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb 52 86 5d [binary, 4 bytes]
DEBUG:    < PONG 9e 62 48 da [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < PONG cb 52 86 5d [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ef a5 8d fe [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 91 5e 34 37 [binary, 4 bytes]
DEBUG:    < PONG ef a5 8d fe [binary, 4 bytes]
DEBUG:    < PONG 91 5e 34 37 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING e9 42 fc 75 [binary, 4 bytes]
DEBUG:    < PONG e9 42 fc 75 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING fa c5 11 d9 [binary, 4 bytes]
DEBUG:    < PONG fa c5 11 d9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Checking for expired rooms...
No expired or expiring rooms found
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
Room state saved successfully. Rooms: 2
INFO:     127.0.0.1:52135 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "POST /api/auth/login HTTP/1.1" 401 Unauthorized
INFO:     127.0.0.1:52135 - "OPTIONS /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "POST /api/auth/register HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "OPTIONS /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "GET /api/rooms HTTP/1.1" 200 OK
INFO:     127.0.0.1:52135 - "GET /api/rooms HTTP/1.1" 200 OK
DEBUG:    % sending keepalive ping
DEBUG:    > PING bc 35 57 78 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 9b 79 aa 03 [binary, 4 bytes]
DEBUG:    < PONG bc 35 57 78 [binary, 4 bytes]
DEBUG:    < PONG 9b 79 aa 03 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
INFO:     127.0.0.1:52135 - "OPTIONS /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='fs'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
尝试将用户 fs 添加到房间 43de0fa8-441f-4643-92cf-14a7c628b75a
Creating Player: name=fs, chips=0
Player fs created successfully with no assigned seat
Player fs joined room 43de0fa8-441f-4643-92cf-14a7c628b75a with no seat assigned
成功: 用户 fs 已加入房间 43de0fa8-441f-4643-92cf-14a7c628b75a
注意: 玩家加入房间时没有座位分配，需要手动选择座位
当前房间玩家: ['hq', 'admin', 'fs']
===== 加入房间请求结束 =====

INFO:     127.0.0.1:52135 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='fs'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 fs 已在房间中
INFO:     127.0.0.1:52135 - "POST /api/rooms/join HTTP/1.1" 200 OK

===== 加入房间请求开始 =====
请求数据: room_id='43de0fa8-441f-4643-92cf-14a7c628b75a' username='fs'
成功找到房间: 43de0fa8-441f-4643-92cf-14a7c628b75a, 名称: sdas1
信息: 用户 fs 已在房间中
INFO:     127.0.0.1:52135 - "POST /api/rooms/join HTTP/1.1" 200 OK
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJmcyIsImV4cCI6MjA2MTUzNzU5Mn0.F0ucabrv1sGf4fxKu6wu11llgDObds8S-M6N46rKV-0 HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:138.0) Gecko/20100101 Firefox/138.0
DEBUG:    < accept: */*
DEBUG:    < accept-language: en-US,en;q=0.5
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < sec-websocket-version: 13
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-extensions: permessage-deflate
DEBUG:    < sec-websocket-key: FyXNb5Ox5CQAKxSX1vpXbw==
DEBUG:    < connection: keep-alive, Upgrade
DEBUG:    < sec-fetch-dest: empty
DEBUG:    < sec-fetch-mode: websocket
DEBUG:    < sec-fetch-site: same-site
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < upgrade: websocket
INFO:     ('127.0.0.1', 52148) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJmcyIsImV4cCI6MjA2MTUzNzU5Mn0.F0ucabrv1sGf4fxKu6wu11llgDObds8S-M6N46rKV-0" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: pXCG8n0dg2mOusbILliNlbKx0GY=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:19:54 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...ame":"fs","chips":0}]}}' [342 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...amp":1746177595.32255}}' [82 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...amp":1746177595.32255}}' [82 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...amp":1746177595.32255}}' [82 bytes]
DEBUG:    = connection is CONNECTING
DEBUG:    < GET /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJmcyIsImV4cCI6MjA2MTUzNzU5Mn0.F0ucabrv1sGf4fxKu6wu11llgDObds8S-M6N46rKV-0 HTTP/1.1
DEBUG:    < host: localhost:8000
DEBUG:    < user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:138.0) Gecko/20100101 Firefox/138.0
DEBUG:    < accept: */*
DEBUG:    < accept-language: en-US,en;q=0.5
DEBUG:    < accept-encoding: gzip, deflate, br, zstd
DEBUG:    < sec-websocket-version: 13
DEBUG:    < origin: http://localhost:3000
DEBUG:    < sec-websocket-extensions: permessage-deflate
DEBUG:    < sec-websocket-key: I7HPvSCuYG9eP80pmHZSOA==
DEBUG:    < connection: keep-alive, Upgrade
DEBUG:    < sec-fetch-dest: empty
DEBUG:    < sec-fetch-mode: websocket
DEBUG:    < sec-fetch-site: same-site
DEBUG:    < pragma: no-cache
DEBUG:    < cache-control: no-cache
DEBUG:    < upgrade: websocket
INFO:     ('127.0.0.1', 52149) - "WebSocket /ws/game/43de0fa8-441f-4643-92cf-14a7c628b75a?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJmcyIsImV4cCI6MjA2MTUzNzU5Mn0.F0ucabrv1sGf4fxKu6wu11llgDObds8S-M6N46rKV-0" [accepted]
DEBUG:    > HTTP/1.1 101 Switching Protocols
DEBUG:    > Upgrade: websocket
DEBUG:    > Connection: Upgrade
DEBUG:    > Sec-WebSocket-Accept: Se1nAmD1bcQpVCnTso/pSNHopMQ=
DEBUG:    > Sec-WebSocket-Extensions: permessage-deflate
DEBUG:    > date: Fri, 02 May 2025 09:19:54 GMT
DEBUG:    > server: uvicorn
INFO:     connection open
DEBUG:    = connection is OPEN
DEBUG:    > TEXT '{"type":"game_state","data":{"room_id":"43de0fa...ame":"fs","chips":0}]}}' [342 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746177595.366981}}' [83 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746177595.366981}}' [83 bytes]
DEBUG:    > TEXT '{"type":"player_connected","data":{"player_id":...mp":1746177595.366981}}' [83 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ba 68 e8 75 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING ac e3 5a 69 [binary, 4 bytes]
DEBUG:    < PONG ba 68 e8 75 [binary, 4 bytes]
DEBUG:    < PONG ac e3 5a 69 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 76 33 17 db [binary, 4 bytes]
DEBUG:    < PONG 76 33 17 db [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING ea 32 58 9b [binary, 4 bytes]
DEBUG:    < PONG ea 32 58 9b [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177604.096441}' [45 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"i am fs."}' [36 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177607.4061604}}' [90 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177607.4061604}}' [90 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177607.4061604}}' [90 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177611.3937936}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 44 5f 30 95 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8c e8 55 32 [binary, 4 bytes]
DEBUG:    < PONG 44 5f 30 95 [binary, 4 bytes]
DEBUG:    < PONG 8c e8 55 32 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a7 d7 b4 28 [binary, 4 bytes]
DEBUG:    < PONG a7 d7 b4 28 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 5b 1e 50 c4 [binary, 4 bytes]
DEBUG:    < PONG 5b 1e 50 c4 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING '}^\u0645' [text, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 3f 9b 10 14 [binary, 4 bytes]
DEBUG:    < PONG '}^\u0645' [text, 4 bytes]
DEBUG:    < PONG 3f 9b 10 14 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING cb b9 2c a5 [binary, 4 bytes]
DEBUG:    < PONG cb b9 2c a5 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING f5 c1 9e cf [binary, 4 bytes]
DEBUG:    < PONG f5 c1 9e cf [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177625.4600668}' [46 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"okk"}' [31 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177626.5233428}}' [85 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177626.5233428}}' [85 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"fs","message":...p":1746177626.5233428}}' [85 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177626.8519628}' [46 bytes]
DEBUG:    < TEXT '{"type":"chat","message":"oj8k"}' [32 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746177633.4590518}}' [86 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746177633.4590518}}' [86 bytes]
DEBUG:    > TEXT '{"type":"chat","data":{"player":"hq","message":...p":1746177633.4590518}}' [86 bytes]
DEBUG:    < TEXT '{"type":"ping"}' [15 bytes]
DEBUG:    > TEXT '{"type":"pong","timestamp":1746177634.0759418}' [46 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c2 3f 7d c1 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING 45 fe 82 81 [binary, 4 bytes]
DEBUG:    < PONG 45 fe 82 81 [binary, 4 bytes]
DEBUG:    < PONG c2 3f 7d c1 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 01 a2 73 f7 [binary, 4 bytes]
DEBUG:    < PONG 01 a2 73 f7 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 8a 76 b0 b9 [binary, 4 bytes]
DEBUG:    < PONG 8a 76 b0 b9 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING a1 e8 57 82 [binary, 4 bytes]
DEBUG:    % sending keepalive ping
DEBUG:    > PING c8 5b 11 67 [binary, 4 bytes]
DEBUG:    < PONG a1 e8 57 82 [binary, 4 bytes]
DEBUG:    < PONG c8 5b 11 67 [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING dd 71 8a ae [binary, 4 bytes]
DEBUG:    < PONG dd 71 8a ae [binary, 4 bytes]
DEBUG:    % received keepalive pong
DEBUG:    % sending keepalive ping
DEBUG:    > PING 93 50 c4 42 [binary, 4 bytes]
DEBUG:    < PONG 93 50 c4 42 [binary, 4 bytes]
DEBUG:    % received keepalive pong
